(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{368:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"m18-erp-ejb-接口-后台接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#m18-erp-ejb-接口-后台接口","aria-hidden":"true"}},[t._v("#")]),t._v(" M18 ERP EJB 接口 (后台接口)")]),t._v(" "),s("p",[t._v("​\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("code",[t._v("Version: 1.1 | Release Date: 7/12/2018")])]),t._v(" "),s("h2",{attrs:{id:"massmailhandler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#massmailhandler","aria-hidden":"true"}},[t._v("#")]),t._v(" MassMailHandler")]),t._v(" "),s("h3",{attrs:{id:"目的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于在[邮件报告设定]发送电子邮件时处理电子邮件。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"handleemail函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#handleemail函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("handleEmail")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleEmail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MacEmail")]),t._v(" email"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" massmail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CawReport")]),t._v(" report"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CawReportDataSet")]),t._v(" dataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于在[邮件报告设定]发送电子邮件时处理电子邮件。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("email")]),t._v(" "),s("td",[s("code",[t._v("MacEmail")])]),t._v(" "),s("td",[t._v("邮件")])]),t._v(" "),s("tr",[s("td",[t._v("massmail")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("[邮件报告设定]主表")])]),t._v(" "),s("tr",[s("td",[t._v("report")]),t._v(" "),s("td",[s("code",[t._v("CawReport")])]),t._v(" "),s("td",[t._v("报表")])]),t._v(" "),s("tr",[s("td",[t._v("dataSet")]),t._v(" "),s("td",[s("code",[t._v("CawReportDataSet")])]),t._v(" "),s("td",[t._v("报表数据")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"sendemail函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sendemail函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("sendEmail")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MacEmail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendEmail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" massmail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CawReport")]),t._v(" report"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CawReportDataSet")]),t._v(" dataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" fileKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" fileMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("它用于通过[邮件报告设定]发送电子邮件时，发送给更多的电子邮件地址。")]),t._v(" "),s("p",[t._v("例如：在 core App 中，可以从客户/供应商/职员/部门/商业中心中获取邮件地址。")]),t._v(" "),s("p",[t._v("例如：在 ac App 中，可以从应收对象/应付对象中获取邮件地址。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("massmail")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("[邮件报告设定]主表")])]),t._v(" "),s("tr",[s("td",[t._v("report")]),t._v(" "),s("td",[s("code",[t._v("CawReport")])]),t._v(" "),s("td",[t._v("报表")])]),t._v(" "),s("tr",[s("td",[t._v("dataSet")]),t._v(" "),s("td",[s("code",[t._v("CawReportDataSet")])]),t._v(" "),s("td",[t._v("报表数据")])]),t._v(" "),s("tr",[s("td",[t._v("fileKey")]),t._v(" "),s("td",[s("code",[t._v("Map<Long, String>")])]),t._v(" "),s("td",[t._v("预览文件的键值对，键是单据的ID，值是文件名。")])]),t._v(" "),s("tr",[s("td",[t._v("fileMap")]),t._v(" "),s("td",[s("code",[t._v("Map<String, String>")])]),t._v(" "),s("td",[t._v("预览文件路径的键值对，键是文件名，值是文件路径。")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("Set<MacEmail>")])]),t._v(" "),s("td",[t._v("额外需发送的邮件")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"updatefrozendate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updatefrozendate","aria-hidden":"true"}},[t._v("#")]),t._v(" UpdateFrozenDate")]),t._v(" "),s("h3",{attrs:{id:"目的-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("在冻结日期要更新前后，开发人员可以进行干预操作。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"beforeupdatefrozen函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beforeupdatefrozen函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("beforeUpdateFrozen")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeUpdateFrozen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" frozenTypeId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),t._v(" frozenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("冻结日期要更新前触发此函数。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("frozenTypeId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("交易冻结期类型ID")])]),t._v(" "),s("tr",[s("td",[t._v("frozenDate")]),t._v(" "),s("td",[s("code",[t._v("Date")])]),t._v(" "),s("td",[t._v("交易冻结期")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("运行结果说明的"),s("code",[t._v("messCode")]),t._v("。")])])])]),t._v(" "),s("p",[s("strong",[t._v("例子")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeUpdateFrozen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" frozenTypeId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),t._v(" frozenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MacCheckerUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("excuteQuery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"frozentype"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" id = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" frozenTypeId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" beFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MacUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBeGlobalSetting")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" beFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frozenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" beFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stkClosed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ce01_core.frozenPeriodSTKError"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"afterupdatefrozen函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#afterupdatefrozen函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterUpdateFrozen")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterUpdateFrozen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" frozenTypeId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),t._v(" frozenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("冻结日期要更新后触发此函数。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("frozenTypeId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("交易冻结期类型ID")])]),t._v(" "),s("tr",[s("td",[t._v("frozenDate")]),t._v(" "),s("td",[s("code",[t._v("Date")])]),t._v(" "),s("td",[t._v("交易冻结期")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"erpserverinitialized"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#erpserverinitialized","aria-hidden":"true"}},[t._v("#")]),t._v(" ErpServerInitialized")]),t._v(" "),s("h3",{attrs:{id:"目的-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-3","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("在同步数据库之后和JBoss完全启动之前，将触发此接口。")]),t._v(" "),s("p",[t._v("它通常用于初始化缓存或初始化数据。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"contextinitialized函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contextinitialized函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("contextInitialized")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("contextInitialized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在同步数据库之后和JBoss完全启动之前，将触发此函数。")]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"afterinitialized函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#afterinitialized函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterInitialized")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterInitialized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("contextInitialized()")]),t._v("之后触发。")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"generaterecord"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generaterecord","aria-hidden":"true"}},[t._v("#")]),t._v(" GenerateRecord")]),t._v(" "),s("h3",{attrs:{id:"目的-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-4","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于创建模块单据，生成另一个模块单据时，与M18交互。 （示例：送货单生成销售发票记录）")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"beforesaverecord函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beforesaverecord函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("beforeSaveRecord")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeSaveRecord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" fromEntity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" jsonParam"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当目标单据（例如销售发票）准备好保存时触发此函数。 如果开发人员需要中止保存过程，则返回false。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("fromEntity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("来源单据实体数据。例如: [送货单]实体数据。")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("目标单据实体数据。例如: [销售发票]实体数据。")])]),t._v(" "),s("tr",[s("td",[t._v("jsonParam")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("额外的参数.")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("如果是 "),s("code",[t._v("false")]),t._v("，则中止保存操作。")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"specbsruleitem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#specbsruleitem","aria-hidden":"true"}},[t._v("#")]),t._v(" SpecBsRuleItem")]),t._v(" "),s("h3",{attrs:{id:"目的-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-5","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于与M18交互，在系统中增加额外的业务规则。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getspecbsruleitem函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getspecbsruleitem函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getSpecBsRuleItem")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpecBsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当M18读取业务规则项时触发。 开发人员可以在Java中定义其他额外的业务规则并返回系统。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("触发业务规则的模块")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("List<BsRuleItem>")])]),t._v(" "),s("td",[t._v("额外业务规则列表")])])])]),t._v(" "),s("p",[s("strong",[t._v("例子")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrdgSpecBsRuleItem")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpecBsRuleItem")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpecBsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MacUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchAppModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TradeStaticVar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TradeUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTradingUdfEditor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" specItems "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRuleItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRule")]),t._v(" rules "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CawCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getObject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErpStaticVar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bsRule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rules "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TradeUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAllowNs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TradeUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkInventoryModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BsRuleItem")]),t._v(" allowNsItem "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChkList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"allowNs"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\tspecItems"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allowNsItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" specItems"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"asavechkhandler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#asavechkhandler","aria-hidden":"true"}},[t._v("#")]),t._v(" ASaveChkHandler")]),t._v(" "),s("h3",{attrs:{id:"目的-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-6","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于在保存单据时与M18交互。 通常用于检查单据下款表的外键约束。")]),t._v(" "),s("p",[t._v("例如，若[送货单]下款的来源[销售订单]中的货币ID不等于[送货单]中的货币ID，则销售订单无法保存。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getasavechksql函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getasavechksql函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getASaveChkSql")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getASaveChkSql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ASaveChkItem")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" mainData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" chkValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" joinkeycol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("定义用于检查以上示例是否有效的SQL：")]),t._v(" "),s("p",[t._v("若[送货单]下款的来源[销售订单]中的货币ID不等于[送货单]中的货币ID，则销售订单无法保存。")]),t._v(" "),s("p",[t._v("如果通过运行SQL返回的数据集非空，则无法保存单据并弹出错误。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("item")]),t._v(" "),s("td",[s("code",[t._v("ASaveChkItem")])]),t._v(" "),s("td",[t._v("检查的项目")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("mainData")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("保存单据的主表")])]),t._v(" "),s("tr",[s("td",[t._v("chkValue")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("检查栏位的值")])]),t._v(" "),s("tr",[s("td",[t._v("joinkeycol")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("链接主键的条件")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("SQL 语句")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"generatedejblot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generatedejblot","aria-hidden":"true"}},[t._v("#")]),t._v(" GeneratedEJBLot")]),t._v(" "),s("h3",{attrs:{id:"目的-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-7","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于在在EJB中生成行次时与M18交互。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"originaccept函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#originaccept函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("originAccept")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("originAccept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当行次将要生成时触发此函数。 用于确定当前模块是否应使用此接口生成批号。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("若为"),s("code",[t._v("true")]),t._v(" 则可以继续调用此接口中的"),s("code",[t._v("generate()")]),t._v("生成行次，若为 "),s("code",[t._v("fales")]),t._v("，则按照系统默认规则生成行次。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"generate函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generate函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("generate")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" rowIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" emptyField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" lotField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" proField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当"),s("code",[t._v("originAccept()")]),t._v(" 返回"),s("code",[t._v("true")]),t._v("时，会触发此函数，此函数用来生成行次。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("rowIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("当前下款表行次")])]),t._v(" "),s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("当前下款表")])]),t._v(" "),s("tr",[s("td",[t._v("emptyField")]),t._v(" "),s("td",[s("code",[t._v("String[]")])]),t._v(" "),s("td",[t._v("判断当前行是否为空的关键栏位")])]),t._v(" "),s("tr",[s("td",[t._v("lotField")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("行次栏位")])]),t._v(" "),s("tr",[s("td",[t._v("proField")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("产品栏位")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("生成的行次")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"generatedjsflot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generatedjsflot","aria-hidden":"true"}},[t._v("#")]),t._v(" GeneratedJSFLot")]),t._v(" "),s("h3",{attrs:{id:"目的-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-8","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("当行次将要在JSF中生成时使用此接口。 函数与 "),s("code",[t._v("GeneratedEJBLot")]),t._v("相同，请参阅 "),s("a",{attrs:{href:"#GeneratedEJBLot"}},[t._v("GeneratedEJBLot")]),t._v(" 以获取更多详细信息。")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"loadtradefooter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadtradefooter","aria-hidden":"true"}},[t._v("#")]),t._v(" LoadTradeFooter")]),t._v(" "),s("h3",{attrs:{id:"目的-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-9","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("从来源单据加载下款数据时触发，用于在下款表中加载单价和说明字段。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getmultipropricedesc函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getmultipropricedesc函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getMultiProPriceDesc")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMultiProPriceDesc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" refId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" virDeptId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" upOrigin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" descOrigin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" proField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" jsonParam"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("系统从来源单据读取下款数据后触发，开发人员可以使用此功能修改或覆盖结果集。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("refId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("客户/供应商ID")])]),t._v(" "),s("tr",[s("td",[t._v("virDeptId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("商业中心ID")])]),t._v(" "),s("tr",[s("td",[t._v("date")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("单据日期")])]),t._v(" "),s("tr",[s("td",[t._v("upOrigin")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("产品价格来源")])]),t._v(" "),s("tr",[s("td",[t._v("descOrigin")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("产品说明来源")])]),t._v(" "),s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("下款表")])]),t._v(" "),s("tr",[s("td",[t._v("proField")]),t._v(" "),s("td",[s("code",[t._v("String[]")])]),t._v(" "),s("td",[t._v("确定唯一性的字段")])]),t._v(" "),s("tr",[s("td",[t._v("jsonParam")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("额外的参数")])]),t._v(" "),s("tr",[s("td",[t._v("result")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("结果集")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("修改后的结果集。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"assign-footer-updesc函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#assign-footer-updesc函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("assign_footer_updesc")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign_footer_updesc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" footerIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" tarTable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" rec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在系统加载<精简说明>和<详细说明>或者<单位价格>后，触发此函数。开发人员可以修改对应栏位的值。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("下款表")])]),t._v(" "),s("tr",[s("td",[t._v("footerIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("下款表行次")])]),t._v(" "),s("tr",[s("td",[t._v("tarTable")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("来源数据表")])]),t._v(" "),s("tr",[s("td",[t._v("rec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("来源数据表行次")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"assignlotnohelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#assignlotnohelper","aria-hidden":"true"}},[t._v("#")]),t._v(" AssignLotnoHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-10","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于开发人员与M18交互，修改已读取的系统默认的批号表信息。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"isaccept函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isaccept函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("isAccept")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAccept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于决定这个接口的其他函数是否继续运行。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("若为"),s("code",[t._v("true")]),t._v(" ，则继续运行这个接口的其他函数。若为 "),s("code",[t._v("false")]),t._v("， 则中止运行这个接口的其他函数 。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"getassignlotno函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getassignlotno函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getAssignLotno")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAssignLotno")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当M18读取了产品的批号库存信息后，开发人员可以在这个函数中修改批号库存表的信息。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("stock")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("库存批号表")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("修改后的库存批号表")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"sortstock函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sortstock函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("sortStock")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sortStock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" sortFieldList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" sortTypeList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("getAssignLotno()")]),t._v("之后触发，用来为库存批号表重新排序。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("stock")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("库存批号表")])]),t._v(" "),s("tr",[s("td",[t._v("sortFieldList")]),t._v(" "),s("td",[s("code",[t._v("List<String>")])]),t._v(" "),s("td",[t._v("排序字段列表")])]),t._v(" "),s("tr",[s("td",[t._v("sortTypeList")]),t._v(" "),s("td",[s("code",[t._v("List<Boolean>")])]),t._v(" "),s("td",[t._v("排序字段列表对应的排序方式。若为 "),s("code",[t._v("true")]),t._v("，则是升序，若为 "),s("code",[t._v("false")]),t._v(" ，则是降序。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"isstockfit函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isstockfit函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("isStockFit")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isStockFit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" stockIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" footerIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("判断当前库存批号表的行，是否符合分配的条件。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("stock")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("库存批号表")])]),t._v(" "),s("tr",[s("td",[t._v("stockIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("库存批号表行次")])]),t._v(" "),s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("被分配批号的下款表")])]),t._v(" "),s("tr",[s("td",[t._v("footerIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("下款表行次")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("若为 "),s("code",[t._v("false")]),t._v("，则库存批号表当前行不能被分配。")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"imaccalchandler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#imaccalchandler","aria-hidden":"true"}},[t._v("#")]),t._v(" IMacCalcHandler")]),t._v(" "),s("h3",{attrs:{id:"目的-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-11","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("该接口用于M18移动应用程序与M18交互。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getorder函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getorder函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getOrder")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("定义接口的顺序，数字越小，接口调用越早。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("返回代表调用顺序的数字。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"efe-mainfooter-up函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#efe-mainfooter-up函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("efe_mainfooter_up")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("efe_mainfooter_up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" tranType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" rowIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("<单位价格>被赋值时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("tranType")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("下款表")])]),t._v(" "),s("tr",[s("td",[t._v("rowIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("下款表行次")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"calc-invamt函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#calc-invamt函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("calc_invamt")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("calc_invamt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" tranType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" mainData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" mainFooter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" mainDisc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于在保存单据之前计算上款中的<总金额/总费用/总折扣/折实金额>。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("tranType")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("mainData")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("主表")])]),t._v(" "),s("tr",[s("td",[t._v("mainFooter")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("下款表")])]),t._v(" "),s("tr",[s("td",[t._v("mainDisc")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("附加折扣/收费表")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"getinchargeqtyfield函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getinchargeqtyfield函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getInChargeQtyField")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInChargeQtyField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qty"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用户获取下款表计算金额时所使用的数量栏位名。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回下款表计算金额时的数量栏位名")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"getfooterupfield函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getfooterupfield函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getFooterUpField")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFooterUpField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"up"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用户获取下款表计算金额时所使用的单价栏位名。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回下款表计算金额时的单价栏位名")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"getfooterucfield函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getfooterucfield函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getFooterUcField")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFooterUcField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用户获取下款表计算金额时所使用的成本栏位名。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回下款表计算金额时的成本栏位名")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"updateprocost"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updateprocost","aria-hidden":"true"}},[t._v("#")]),t._v(" UpdateProCost")]),t._v(" "),s("h3",{attrs:{id:"目的-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-12","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("开发人员与M18交互，用于计算库存成本。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"详细说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#详细说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 详细说明")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UpdateProCost")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * For Product LLC\n\t * this function can be replaced by using procedure named get_pro_llc_*\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMatList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * For Data Updating(Stock In UC)\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeLoadData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" codeList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * can append special field used in the getCalcUc\n\t * or\n\t * update data\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterLoadData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" codeList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stockIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stockOut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stock_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * 1: return false(CalcUcStatus.skipOther) means skip the other instance of UpdateProCost\n\t * 2: for special value please set it to CalcUcStatus.uc(and set CalcUcStatus.setUc = true)\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CalcUcStatus")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCalcUc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" stk_mth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStockIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" rowIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" calcUc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" tempVarList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" tempStockIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" tempStockOut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("calcFIFOUc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" inVARLIST"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" proId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),t._v(" tranDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" outIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stockIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stockOut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stock_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" outAss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" retAss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" retUesd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * For Product Cost Updating(PC)\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterUpdateUc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" codeList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * For Data Updating After Close Stock\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterCloseStock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * For Data Updating After Reverse Stock\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterReverseStock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" varList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"loadbomdatasourcehelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadbomdatasourcehelper","aria-hidden":"true"}},[t._v("#")]),t._v(" LoadBomDataSourceHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-13","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于给开发人员修改读取的即时成本里的BOM资料信息。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"updatebomdatasourcedata函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updatebomdatasourcedata函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("updateBomDataSourceData")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateBomDataSourceData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bomRec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" footerIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" bomInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" bomDataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("读取即时成本资料时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("当前模块的数据实体")])]),t._v(" "),s("tr",[s("td",[t._v("bomRec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("BOM的行次")])]),t._v(" "),s("tr",[s("td",[t._v("footerIndex")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("下款表的行次")])]),t._v(" "),s("tr",[s("td",[t._v("bomInfo")]),t._v(" "),s("td",[s("code",[t._v("List<SqlTable>")])]),t._v(" "),s("td",[t._v("读取BOM信息的列表，使用"),s("code",[t._v("bomInfo.get(0)")]),t._v(" 获取BOM的主查询信息。")])]),t._v(" "),s("tr",[s("td",[t._v("bomDataSource")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("数据来源类型")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("返回修改后的 "),s("code",[t._v("bomInfo")]),t._v(".")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"modulesettinghelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modulesettinghelper","aria-hidden":"true"}},[t._v("#")]),t._v(" ModuleSettingHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-14"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-14","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于扩展判定模块是否为库存模块。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"checkinventorymodule函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checkinventorymodule函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("checkInventoryModule")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkInventoryModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("判断当前模块是否为库存模块。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("若为"),s("code",[t._v("true")]),t._v("，则当前模块为库存模块。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"getstkmodule函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getstkmodule函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getStkModule")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStkModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用户读取库存模块，用来生成[业务流程]的缓存数据。")]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("一个只有一列("),s("code",[t._v("module")]),t._v(")的 "),s("code",[t._v("SqlTable")]),t._v(" 表。提供额外的库存模块。")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"generatevoucher"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generatevoucher","aria-hidden":"true"}},[t._v("#")]),t._v(" GenerateVoucher")]),t._v(" "),s("h3",{attrs:{id:"目的-15"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-15","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于开发者与M18，在生成交易单据的凭证时的交互。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getudforder函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getudforder函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getUDFOrder")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUDFOrder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于决定 "),s("code",[t._v("GenerateUDFVoucher()")]),t._v("函数是否该调用。返回的数值必须大于 "),s("code",[t._v("-1")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("当前单据的实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("用于标志该单据是否为库存单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[s("code",[t._v("GenerateUDFVoucher()")]),t._v(" 需要被调用，返回值必须大于 "),s("code",[t._v("-1")]),t._v("。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"generateudfvoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generateudfvoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("GenerateUDFVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenerateUDFVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("重写系统默认凭证生成规则， 将新SQL提供给系统并生成凭证。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("单据实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("若返回 "),s("code",[t._v("null")]),t._v(" ，则当前函数无任何影响，进程继续运行。若返回 "),s("code",[t._v("CheckMsg")]),t._v(" ，则中止当前运行进程，单据会保存失败。若返回 "),s("code",[t._v("List<String>")]),t._v(" ，则包含所有生成凭证的SQL语句。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"beforegeneratevoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beforegeneratevoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("beforeGenerateVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeGenerateVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[s("code",[t._v("GenerateUDFVouche()")]),t._v("返回"),s("code",[t._v("null")]),t._v("时触发，开发人员可以在生成默认SQL语句之前提供其他的SQL语句。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("单据实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回SQL语句必须在执行系统生成的SQL语句前执行。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"beforegent函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beforegent函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("beforeGenT")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeGenT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("当 "),s("code",[t._v("GenerateUDFVoucher()")]),t._v(" 返回"),s("code",[t._v("null")]),t._v("并且开发人员在生成默认SQL语句之前提供其他SQL语句时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("单据实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行之前执行。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"aftergeneratevoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aftergeneratevoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterGenerateVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterGenerateVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" voucherId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" genModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[s("code",[t._v("GenerateUDFVoucher()")]),t._v("返回"),s("code",[t._v("null")]),t._v("并且开发人员在生成凭证的所有默认SQL语句执行后有提供其他SQL语句时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("单据实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])]),t._v(" "),s("tr",[s("td",[t._v("voucherId")]),t._v(" "),s("td",[s("code",[t._v("Long")])]),t._v(" "),s("td",[t._v("记账凭证ID")])]),t._v(" "),s("tr",[s("td",[t._v("genModel")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志凭证是否是即时生成的。")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行后执行。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"aftergenerateinstancevoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aftergenerateinstancevoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterGenerateInstanceVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterGenerateInstanceVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" entity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[s("code",[t._v("afterGenerateVoucher()")]),t._v(" 之后触发，并在保存交易后生成凭证（即时凭证）。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("entity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("单据实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行后执行。")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"aftergeneratemodulevoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aftergeneratemodulevoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterGenerateModuleVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterGenerateModuleVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在模块是批量生成凭证的条件下，并所有系统默认的SQL语句生成时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("数名")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("ids")]),t._v(" "),s("td",[s("code",[t._v("List<Long>")])]),t._v(" "),s("td",[t._v("单据的ID列表")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行后执行")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"aftergeneratetranvoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aftergeneratetranvoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterGenerateTranVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterGenerateTranVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" moduleName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在模块是批量生成凭证的条件下，并所有系统默认的SQL语句生成时触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("moduleName")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("ids")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("单据的ID列表")])]),t._v(" "),s("tr",[s("td",[t._v("isStock")]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("标志单据是否为库存相关单据")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行后执行")])])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"afterbatchrevertvoucher函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#afterbatchrevertvoucher函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("afterBatchRevertVoucher")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterBatchRevertVoucher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" jlId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("在凭证要还原并且所有系统默认的SQL语句生成的时候触发。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("jlId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("要还原的凭证的ID列表")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回的SQL语句需要在系统生成的SQL语句执行后执行")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"prqallocate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prqallocate","aria-hidden":"true"}},[t._v("#")]),t._v(" PrqAllocate")]),t._v(" "),s("h3",{attrs:{id:"目的-16"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-16","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("在处理生成MRP单据时与M18进行交互。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"supply-demand函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#supply-demand函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("supply_demand")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("supply_demand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" etdList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" etaList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" stkList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),t._v(" etd_supply_List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("为MRP生成单据中的特殊情况分配需求和供应数量。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("etdList")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("步骤2中需求列表")])]),t._v(" "),s("tr",[s("td",[t._v("etaList")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("步骤2中供应列表")])]),t._v(" "),s("tr",[s("td",[t._v("stkList")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("库存列表")])]),t._v(" "),s("tr",[s("td",[t._v("etd_supply_List")]),t._v(" "),s("td",[s("code",[t._v("SqlTable")])]),t._v(" "),s("td",[t._v("按[可用量配置]的分配结果。")])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"loadlocktranhelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadlocktranhelper","aria-hidden":"true"}},[t._v("#")]),t._v(" LoadLockTranHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-17"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-17","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("[锁定/解锁物料]模块与M18的交互。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"addloadlocktrancond函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#addloadlocktrancond函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("addLoadLockTranCond")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLoadLockTranCond")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" beId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" loadType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormatCond")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" conds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("读取相应的锁定/无锁定的物料时触发。 开发人员可以修改条件并影响搜索结果。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beId")]),t._v(" "),s("td",[s("code",[t._v("long")])]),t._v(" "),s("td",[t._v("企业法人ID")])]),t._v(" "),s("tr",[s("td",[t._v("loadType")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("标识读取物料的类型，有"),s("code",[t._v("lock")]),t._v(", "),s("code",[t._v("release")]),t._v("两种。")])]),t._v(" "),s("tr",[s("td",[t._v("module")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("读取物料的模块")])]),t._v(" "),s("tr",[s("td",[t._v("conds")]),t._v(" "),s("td",[s("code",[t._v("List<FormatCond>")])]),t._v(" "),s("td",[t._v("用户自定义的条件")])])])]),t._v(" "),s("h2",{attrs:{id:"tradingsettinghelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tradingsettinghelper","aria-hidden":"true"}},[t._v("#")]),t._v(" TradingSettingHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-18"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-18","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于扩展[贸易参数设定]设置模块。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"getlasttrantablename函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getlasttrantablename函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("getLastTranTableName")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLastTranTableName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("获取“上一次交易记录”来源的类型在缓存中的表名称。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("origin")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("“上一次交易记录”来源的类型")])])])]),t._v(" "),s("p",[s("strong",[t._v("返回值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("返回“上一次交易记录”来源的类型在缓存中的表名称")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"addtradingsettingdata函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#addtradingsettingdata函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("addTradingSettingData")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addTradingSettingData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlTable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" cacheMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("为"),s("code",[t._v("TradeStaticVar.tradingSetting")]),t._v("缓存增加额外的缓存数据。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("cacheMap")]),t._v(" "),s("td",[s("code",[t._v("Map<String, SqlTable>")])]),t._v(" "),s("td",[s("code",[t._v("TradeStaticVar.tradingSetting")]),t._v("缓存数据")])])])]),t._v(" "),s("h2",{attrs:{id:"ecnhelper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ecnhelper","aria-hidden":"true"}},[t._v("#")]),t._v(" EcnHelper")]),t._v(" "),s("h3",{attrs:{id:"目的-19"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目的-19","aria-hidden":"true"}},[t._v("#")]),t._v(" 目的")]),t._v(" "),s("p",[t._v("用于扩展[工程变更单]模块。")]),t._v(" "),s("br"),t._v(" "),s("h3",{attrs:{id:"ecnchangeprocessextradata函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ecnchangeprocessextradata函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("ecnChangeProcessExtraData")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ecnChangeProcessExtraData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" ecnpEntity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ecnptRec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" bomEntity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bomptRec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于[工程变更单(工艺)]模块，对扩展增加的数据，替换到BOM变更单。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ecnpEntity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("[工程变更单(工艺)]的实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("ecnptRec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("[工程变更单(工艺)]的行次")])]),t._v(" "),s("tr",[s("td",[t._v("bomEntity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("[BOM]的实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("bomptRec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("[BOM]工艺下款被变更的行次")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ecnchangematextradata函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ecnchangematextradata函数","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("ecnChangeMatExtraData")]),t._v("函数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ecnChangeMatExtraData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" ecnmEntity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ecnmtRec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlEntity")]),t._v(" bomEntity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bomtRec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("说明")])]),t._v(" "),s("p",[t._v("用于[工程变更单(物料)]模块，对扩展增加的数据，替换到BOM变更单。")]),t._v(" "),s("p",[s("strong",[t._v("参数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ecnmEntity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("[工程变更单(物料)]的实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("ecnmtRec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("[工程变更单(物料)]的行次")])]),t._v(" "),s("tr",[s("td",[t._v("bomEntity")]),t._v(" "),s("td",[s("code",[t._v("SqlEntity")])]),t._v(" "),s("td",[t._v("[BOM]的实体数据")])]),t._v(" "),s("tr",[s("td",[t._v("bomtRec")]),t._v(" "),s("td",[s("code",[t._v("int")])]),t._v(" "),s("td",[t._v("[BOM]物料下款被变更的行次")])])])])])},[],!1,null,null,null);a.default=n.exports}}]);