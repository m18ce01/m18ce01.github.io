<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>薪资管理模块 | M18 Developer Center</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Make Something People Want">
    
    <link rel="preload" href="/assets/css/0.styles.20027d00.css" as="style"><link rel="preload" href="/assets/js/app.a454ef97.js" as="script"><link rel="preload" href="/assets/js/2.09bf837d.js" as="script"><link rel="preload" href="/assets/js/6.cd92b9b4.js" as="script"><link rel="prefetch" href="/assets/js/10.16f449c4.js"><link rel="prefetch" href="/assets/js/100.b548e448.js"><link rel="prefetch" href="/assets/js/101.6a7a9eef.js"><link rel="prefetch" href="/assets/js/102.89209bc5.js"><link rel="prefetch" href="/assets/js/103.a8f77b4f.js"><link rel="prefetch" href="/assets/js/104.266bfbc8.js"><link rel="prefetch" href="/assets/js/105.5979b0be.js"><link rel="prefetch" href="/assets/js/106.4558ba01.js"><link rel="prefetch" href="/assets/js/107.fc56de6f.js"><link rel="prefetch" href="/assets/js/108.02e92606.js"><link rel="prefetch" href="/assets/js/109.d3c80445.js"><link rel="prefetch" href="/assets/js/11.1e8e9eaa.js"><link rel="prefetch" href="/assets/js/110.73c28140.js"><link rel="prefetch" href="/assets/js/111.ac35a99d.js"><link rel="prefetch" href="/assets/js/112.591da34f.js"><link rel="prefetch" href="/assets/js/113.df212c56.js"><link rel="prefetch" href="/assets/js/114.a3f993c1.js"><link rel="prefetch" href="/assets/js/12.21672796.js"><link rel="prefetch" href="/assets/js/13.81a71d87.js"><link rel="prefetch" href="/assets/js/14.aad1e22d.js"><link rel="prefetch" href="/assets/js/15.3efb5389.js"><link rel="prefetch" href="/assets/js/16.a927533d.js"><link rel="prefetch" href="/assets/js/17.d7c45eb6.js"><link rel="prefetch" href="/assets/js/18.b95c647b.js"><link rel="prefetch" href="/assets/js/19.5a3340b9.js"><link rel="prefetch" href="/assets/js/20.679e851e.js"><link rel="prefetch" href="/assets/js/21.bd630358.js"><link rel="prefetch" href="/assets/js/22.b049dee7.js"><link rel="prefetch" href="/assets/js/23.8a8c0820.js"><link rel="prefetch" href="/assets/js/24.559c1f6d.js"><link rel="prefetch" href="/assets/js/25.3f47be5d.js"><link rel="prefetch" href="/assets/js/26.e8f0280d.js"><link rel="prefetch" href="/assets/js/27.2355a80e.js"><link rel="prefetch" href="/assets/js/28.bca41df5.js"><link rel="prefetch" href="/assets/js/29.0c1929ad.js"><link rel="prefetch" href="/assets/js/3.5420a59a.js"><link rel="prefetch" href="/assets/js/30.00c39dce.js"><link rel="prefetch" href="/assets/js/31.6c873b18.js"><link rel="prefetch" href="/assets/js/32.746610b9.js"><link rel="prefetch" href="/assets/js/33.c9514938.js"><link rel="prefetch" href="/assets/js/34.230d6cb1.js"><link rel="prefetch" href="/assets/js/35.2c806e44.js"><link rel="prefetch" href="/assets/js/36.baa3985a.js"><link rel="prefetch" href="/assets/js/37.08877b80.js"><link rel="prefetch" href="/assets/js/38.62ae215f.js"><link rel="prefetch" href="/assets/js/39.e9684d7b.js"><link rel="prefetch" href="/assets/js/4.9c3a0021.js"><link rel="prefetch" href="/assets/js/40.6ace7e61.js"><link rel="prefetch" href="/assets/js/41.a50909a0.js"><link rel="prefetch" href="/assets/js/42.7125a06d.js"><link rel="prefetch" href="/assets/js/43.558e15e1.js"><link rel="prefetch" href="/assets/js/44.970b9146.js"><link rel="prefetch" href="/assets/js/45.c002f09a.js"><link rel="prefetch" href="/assets/js/46.326ec65b.js"><link rel="prefetch" href="/assets/js/47.d8306226.js"><link rel="prefetch" href="/assets/js/48.9202c72d.js"><link rel="prefetch" href="/assets/js/49.59f9516f.js"><link rel="prefetch" href="/assets/js/5.83acb6fc.js"><link rel="prefetch" href="/assets/js/50.c0ea525d.js"><link rel="prefetch" href="/assets/js/51.498a1b3e.js"><link rel="prefetch" href="/assets/js/52.879f4bcc.js"><link rel="prefetch" href="/assets/js/53.acea81af.js"><link rel="prefetch" href="/assets/js/54.8e085927.js"><link rel="prefetch" href="/assets/js/55.d5249ca8.js"><link rel="prefetch" href="/assets/js/56.ec6d7785.js"><link rel="prefetch" href="/assets/js/57.0cdbff37.js"><link rel="prefetch" href="/assets/js/58.e27a3439.js"><link rel="prefetch" href="/assets/js/59.9bc50552.js"><link rel="prefetch" href="/assets/js/60.01ddf893.js"><link rel="prefetch" href="/assets/js/61.b920e266.js"><link rel="prefetch" href="/assets/js/62.62aee5e4.js"><link rel="prefetch" href="/assets/js/63.984b7f1d.js"><link rel="prefetch" href="/assets/js/64.911c8614.js"><link rel="prefetch" href="/assets/js/65.9e1cdccd.js"><link rel="prefetch" href="/assets/js/66.c68d6089.js"><link rel="prefetch" href="/assets/js/67.05b5d4bb.js"><link rel="prefetch" href="/assets/js/68.b710110f.js"><link rel="prefetch" href="/assets/js/69.c983c9ae.js"><link rel="prefetch" href="/assets/js/7.96df806c.js"><link rel="prefetch" href="/assets/js/70.58c35aca.js"><link rel="prefetch" href="/assets/js/71.1cbaf0fc.js"><link rel="prefetch" href="/assets/js/72.e054b57f.js"><link rel="prefetch" href="/assets/js/73.5912a8eb.js"><link rel="prefetch" href="/assets/js/74.0206cbd1.js"><link rel="prefetch" href="/assets/js/75.5684227d.js"><link rel="prefetch" href="/assets/js/76.3d0db3f3.js"><link rel="prefetch" href="/assets/js/77.6f1451be.js"><link rel="prefetch" href="/assets/js/78.a335fe72.js"><link rel="prefetch" href="/assets/js/79.82343f6c.js"><link rel="prefetch" href="/assets/js/8.19aa3fde.js"><link rel="prefetch" href="/assets/js/80.d651c65f.js"><link rel="prefetch" href="/assets/js/81.74b41270.js"><link rel="prefetch" href="/assets/js/82.660134d3.js"><link rel="prefetch" href="/assets/js/83.58877a4a.js"><link rel="prefetch" href="/assets/js/84.bb28cab3.js"><link rel="prefetch" href="/assets/js/85.ecd88cf7.js"><link rel="prefetch" href="/assets/js/86.10093a71.js"><link rel="prefetch" href="/assets/js/87.52387d7b.js"><link rel="prefetch" href="/assets/js/88.fafb8f80.js"><link rel="prefetch" href="/assets/js/89.fa7b6e2e.js"><link rel="prefetch" href="/assets/js/9.c1961b99.js"><link rel="prefetch" href="/assets/js/90.2739b40a.js"><link rel="prefetch" href="/assets/js/91.9c9cfe4c.js"><link rel="prefetch" href="/assets/js/92.15f57c5d.js"><link rel="prefetch" href="/assets/js/93.90db2daa.js"><link rel="prefetch" href="/assets/js/94.a6180d38.js"><link rel="prefetch" href="/assets/js/95.89c800c6.js"><link rel="prefetch" href="/assets/js/96.41c09226.js"><link rel="prefetch" href="/assets/js/97.1fd3eac0.js"><link rel="prefetch" href="/assets/js/98.33f39489.js"><link rel="prefetch" href="/assets/js/99.9b8113f3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.20027d00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">M18 Developer Center</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link router-link-active">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link router-link-active">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>M18 HCM WebServices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/api/ch01/" aria-current="page" class="sidebar-link">访问权限</a></li><li><a href="/en/api/ch01/EBI.html" class="sidebar-link">EBI</a></li><li><a href="/en/api/ch01/ws_ch01_emp.html" class="sidebar-link">人事管理模块</a></li><li><a href="/en/api/ch01/ws_ch01_att.html" class="sidebar-link">考勤管理模块</a></li><li><a href="/en/api/ch01/ws_ch01_appraisa.html" class="sidebar-link">绩效管理模块</a></li><li><a href="/en/api/ch01/ws_ch01_leave.html" class="sidebar-link">请假管理模块</a></li><li><a href="/en/api/ch01/ws_ch01_medical.html" class="sidebar-link">医疗索偿管理</a></li><li><a href="/en/api/ch01/ws_ch01_pay.html" aria-current="page" class="active sidebar-link">薪资管理模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#变动科目" class="sidebar-link">变动科目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取变动科目单据列表" class="sidebar-link">获取变动科目单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增变动科目" class="sidebar-link">新增变动科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取变动科目" class="sidebar-link">读取变动科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存变动科目" class="sidebar-link">保存变动科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除变动科目" class="sidebar-link">删除变动科目</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#固定科目" class="sidebar-link">固定科目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取固定科目单据列表" class="sidebar-link">获取固定科目单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增固定科目" class="sidebar-link">新增固定科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取固定科目" class="sidebar-link">读取固定科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存固定科目" class="sidebar-link">保存固定科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除固定科目" class="sidebar-link">删除固定科目</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#统计科目" class="sidebar-link">统计科目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取统计科目单据列表" class="sidebar-link">获取统计科目单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增统计科目" class="sidebar-link">新增统计科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取统计科目" class="sidebar-link">读取统计科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存统计科目" class="sidebar-link">保存统计科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除统计科目" class="sidebar-link">删除统计科目</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保险科目" class="sidebar-link">保险科目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取保险科目单据列表" class="sidebar-link">获取保险科目单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增保险科目" class="sidebar-link">新增保险科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取保险科目" class="sidebar-link">读取保险科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存保险科目" class="sidebar-link">保存保险科目</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除保险科目" class="sidebar-link">删除保险科目</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#报销记录" class="sidebar-link">报销记录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取报销记录单据列表" class="sidebar-link">获取报销记录单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增报销记录" class="sidebar-link">新增报销记录</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取报销记录" class="sidebar-link">读取报销记录</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存报销记录" class="sidebar-link">保存报销记录</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除报销记录" class="sidebar-link">删除报销记录</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工薪资资料" class="sidebar-link">员工薪资资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取员工薪资资料单据列表" class="sidebar-link">获取员工薪资资料单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增员工薪资资料" class="sidebar-link">新增员工薪资资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取员工薪资资料" class="sidebar-link">读取员工薪资资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存员工薪资资料" class="sidebar-link">保存员工薪资资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除员工薪资资料" class="sidebar-link">删除员工薪资资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工-ir56-相关资料" class="sidebar-link">员工 IR56 相关资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取员工-ir56-相关资料单据列表" class="sidebar-link">获取员工 IR56 相关资料单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增员工-ir56-相关资料" class="sidebar-link">新增员工 IR56 相关资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取员工-ir56-相关资料" class="sidebar-link">读取员工 IR56 相关资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存员工-ir56-相关资料" class="sidebar-link">保存员工 IR56 相关资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除员工-ir56-相关资料" class="sidebar-link">删除员工 IR56 相关资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资调整" class="sidebar-link">薪资调整</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取薪资调整单据列表" class="sidebar-link">获取薪资调整单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增薪资调整" class="sidebar-link">新增薪资调整</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取薪资调整" class="sidebar-link">读取薪资调整</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存薪资调整" class="sidebar-link">保存薪资调整</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除薪资调整" class="sidebar-link">删除薪资调整</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资计算" class="sidebar-link">薪资计算</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取薪资计算单据列表" class="sidebar-link">获取薪资计算单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增薪资计算" class="sidebar-link">新增薪资计算</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取薪资计算" class="sidebar-link">读取薪资计算</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存薪资计算" class="sidebar-link">保存薪资计算</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除薪资计算" class="sidebar-link">删除薪资计算</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#工资积欠" class="sidebar-link">工资积欠</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取工资积欠单据列表" class="sidebar-link">获取工资积欠单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增工资积欠" class="sidebar-link">新增工资积欠</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取工资积欠" class="sidebar-link">读取工资积欠</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存工资积欠" class="sidebar-link">保存工资积欠</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除工资积欠" class="sidebar-link">删除工资积欠</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#付款单" class="sidebar-link">付款单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取付款单据列表" class="sidebar-link">获取付款单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增付款单" class="sidebar-link">新增付款单</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取付款单" class="sidebar-link">读取付款单</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存付款单" class="sidebar-link">保存付款单</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除付款单" class="sidebar-link">删除付款单</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保险资料" class="sidebar-link">保险资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#获取保险资料单据列表" class="sidebar-link">获取保险资料单据列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#新增保险资料" class="sidebar-link">新增保险资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取保险资料" class="sidebar-link">读取保险资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保存保险资料" class="sidebar-link">保存保险资料</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#删除保险资料" class="sidebar-link">删除保险资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#读取-ebi-数据" class="sidebar-link">读取 EBI 数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工固定科目列表" class="sidebar-link">员工固定科目列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工变动科目列表" class="sidebar-link">员工变动科目列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资统计科目报告" class="sidebar-link">薪资统计科目报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工薪资参数列表" class="sidebar-link">员工薪资参数列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资分析报告" class="sidebar-link">薪资分析报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#最后薪资报告" class="sidebar-link">最后薪资报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工成本摊分设定报告" class="sidebar-link">员工成本摊分设定报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资摊分报告" class="sidebar-link">薪资摊分报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资组合列表-固定科目" class="sidebar-link">薪资组合列表（固定科目）</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资组合列表-薪资参数" class="sidebar-link">薪资组合列表（薪资参数）</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#每月薪资核对明细报告" class="sidebar-link">每月薪资核对明细报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工薪资资料列表" class="sidebar-link">员工薪资资料列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工-ir56-相关资料报告" class="sidebar-link">员工 IR56 相关资料报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工强积金资料列表" class="sidebar-link">员工强积金资料列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资统计科目报告-包括强积金记录" class="sidebar-link">薪资统计科目报告（包括强积金记录）</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资分析报告-包括强积金记录" class="sidebar-link">薪资分析报告（包括强积金记录）</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#最后薪资报告-包括强积金记录" class="sidebar-link">最后薪资报告（包括强积金记录）</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工保险科目报告" class="sidebar-link">员工保险科目报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#保险综合分析报告" class="sidebar-link">保险综合分析报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪酬表报告" class="sidebar-link">薪酬表报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#职级明细报告" class="sidebar-link">职级明细报告</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#薪资数据仓库-ngo" class="sidebar-link">薪资数据仓库 (NGO)</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#员工职级编码列表" class="sidebar-link">员工职级编码列表</a></li><li class="sidebar-sub-header"><a href="/en/api/ch01/ws_ch01_pay.html#报销报告" class="sidebar-link">报销报告</a></li></ul></li></ul></li><li><a href="/en/api/ch01/ws_ch01_recruit.html" class="sidebar-link">招聘管理模块</a></li><li><a href="/en/api/ch01/ws_ch01_train.html" class="sidebar-link">培训&amp;资助管理</a></li><li><a href="/en/api/ch01/ws_ch01_casual.html" class="sidebar-link">临时工模块</a></li><li><a href="/en/api/ch01/m18hcmws_AttendanceManagement.html" class="sidebar-link">Attendance Management</a></li><li><a href="/en/api/ch01/m18hcmws_HongKongLabourLawCompliance.html" class="sidebar-link">Hong Kong Labour Law Compliance</a></li><li><a href="/en/api/ch01/m18hcmws_LeaveManagement.html" class="sidebar-link">Leave Management</a></li><li><a href="/en/api/ch01/m18hcmws_OrganizationAndPersonnelManagement.html" class="sidebar-link">Organization And Personnel Management</a></li><li><a href="/en/api/ch01/m18hcmws_PayrollManagement.html" class="sidebar-link">Payroll Management</a></li><li><a href="/en/api/ch01/m18hcmws_PRCLabourLawCompliance.html" class="sidebar-link">PRC Labour Law Compliance</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="薪资管理模块"><a href="#薪资管理模块" class="header-anchor">#</a> 薪资管理模块</h1> <h2 id="变动科目"><a href="#变动科目" class="header-anchor">#</a> 变动科目</h2> <h3 id="获取变动科目单据列表"><a href="#获取变动科目单据列表" class="header-anchor">#</a> 获取变动科目单据列表</h3> <h4 id="接口描述"><a href="#接口描述" class="header-anchor">#</a> 接口描述</h4> <p>用于获取变动科目单据列表</p> <h4 id="接口调用说明"><a href="#接口调用说明" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>varpay</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;varpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;varpay&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;变动科目&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18051401&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-05-14 17:27:12&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;varpay.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18051401&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18051401&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增变动科目"><a href="#新增变动科目" class="header-anchor">#</a> 新增变动科目</h3> <h4 id="接口描述-2"><a href="#接口描述-2" class="header-anchor">#</a> 接口描述</h4> <p>用于新增变动科目记录</p> <h4 id="接口调用说明-2"><a href="#接口调用说明-2" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/varpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>varpay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/varpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;varpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainvp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试变动科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;vpcatId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">41</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(mainvp.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取变动科目"><a href="#读取变动科目" class="header-anchor">#</a> 读取变动科目</h3> <h4 id="接口描述-3"><a href="#接口描述-3" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取变动科目记录详情</p> <h4 id="接口调用说明-3"><a href="#接口调用说明-3" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/varpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>varpay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>变动科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%8F%98%E5%8A%A8%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取变动科目单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/varpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;varpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mainvp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;ir56macc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ddesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;vpcatId&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payrollrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;varpay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56bacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56Rent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;leaveType&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incomecate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printSequence&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">41</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651908968000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试变动科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909228000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;forOneOffSpeAllow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1651908968000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScaleCat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;--&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-CN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mandaitem&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfaac&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;i18nField&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;desc_en\&quot;: \&quot;测试变动科目\&quot;}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-TW&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;showzero&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taxrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56eacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysDefault&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试变动科目&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存变动科目"><a href="#保存变动科目" class="header-anchor">#</a> 保存变动科目</h3> <h4 id="接口描述-4"><a href="#接口描述-4" class="header-anchor">#</a> 接口描述</h4> <p>用于保存变动科目单</p> <h4 id="接口调用说明-4"><a href="#接口调用说明-4" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/varpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>varpay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/varpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;varpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainvp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">41</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;vpcatId&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">41</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(mainvp.vpcatId)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除变动科目"><a href="#删除变动科目" class="header-anchor">#</a> 删除变动科目</h3> <h4 id="接口描述-5"><a href="#接口描述-5" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的变动科目单</p> <h4 id="接口调用说明-5"><a href="#接口调用说明-5" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/varpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>varpay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>变动科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%8F%98%E5%8A%A8%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取变动科目单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/varpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;varpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="固定科目"><a href="#固定科目" class="header-anchor">#</a> 固定科目</h2> <h3 id="获取固定科目单据列表"><a href="#获取固定科目单据列表" class="header-anchor">#</a> 获取固定科目单据列表</h3> <h4 id="接口描述-6"><a href="#接口描述-6" class="header-anchor">#</a> 接口描述</h4> <p>用于获取固定科目单据列表</p> <h4 id="接口调用说明-6"><a href="#接口调用说明-6" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>fixpay</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;固定科目&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ADMIN_ACC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-12-01 10:06:34&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;fixpay.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;（ADMIN_ACC）&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ADMIN_ACC&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增固定科目"><a href="#新增固定科目" class="header-anchor">#</a> 新增固定科目</h3> <h4 id="接口描述-7"><a href="#接口描述-7" class="header-anchor">#</a> 接口描述</h4> <p>用于新增固定科目记录</p> <h4 id="接口调用说明-7"><a href="#接口调用说明-7" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/fixpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>fixpay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/fixpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainfp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试固定科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fpcatId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(mainfp.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取固定科目"><a href="#读取固定科目" class="header-anchor">#</a> 读取固定科目</h3> <h4 id="接口描述-8"><a href="#接口描述-8" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取固定科目记录详情</p> <h4 id="接口调用说明-8"><a href="#接口调用说明-8" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/fixpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>fixpay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>固定科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%9B%BA%E5%AE%9A%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取固定科目单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/fixpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mainfp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;ir56macc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ddesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payrollrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;calcdivide&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56bacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56Rent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;leaveType&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incomecate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printSequence&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909592000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试固定科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909592000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;forOneOffSpeAllow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909592000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScaleCat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;--&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-CN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;period&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mandaitem&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;i18nField&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;desc_en\&quot;: \&quot;测试固定科目\&quot;}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-TW&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;showzero&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taxrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fpcatId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56eacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试固定科目&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存固定科目"><a href="#保存固定科目" class="header-anchor">#</a> 保存固定科目</h3> <h4 id="接口描述-9"><a href="#接口描述-9" class="header-anchor">#</a> 接口描述</h4> <p>用于保存固定科目单</p> <h4 id="接口调用说明-9"><a href="#接口调用说明-9" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/fixpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>fixpay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/fixpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainfp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;fpcatId&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(mainfp.fpcatId)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除固定科目"><a href="#删除固定科目" class="header-anchor">#</a> 删除固定科目</h3> <h4 id="接口描述-10"><a href="#接口描述-10" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的固定科目单</p> <h4 id="接口调用说明-10"><a href="#接口调用说明-10" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/fixpay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>fixpay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>固定科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%9B%BA%E5%AE%9A%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取固定科目单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/fixpay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;fixpay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="统计科目"><a href="#统计科目" class="header-anchor">#</a> 统计科目</h2> <h3 id="获取统计科目单据列表"><a href="#获取统计科目单据列表" class="header-anchor">#</a> 获取统计科目单据列表</h3> <h4 id="接口描述-11"><a href="#接口描述-11" class="header-anchor">#</a> 接口描述</h4> <p>用于获取统计科目单据列表</p> <h4 id="接口调用说明-11"><a href="#接口调用说明-11" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>resultvalue</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;统计科目&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-03-25 14:14:49&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;resultvalue.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增统计科目"><a href="#新增统计科目" class="header-anchor">#</a> 新增统计科目</h3> <h4 id="接口描述-12"><a href="#接口描述-12" class="header-anchor">#</a> 接口描述</h4> <p>用于新增统计科目记录</p> <h4 id="接口调用说明-12"><a href="#接口调用说明-12" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/resultvalue</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>resultvalue</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/resultvalue&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainrv&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试统计科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rvcatId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">74</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(mainrv.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取统计科目"><a href="#读取统计科目" class="header-anchor">#</a> 读取统计科目</h3> <h4 id="接口描述-13"><a href="#接口描述-13" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取统计科目记录详情</p> <h4 id="接口调用说明-13"><a href="#接口调用说明-13" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/resultvalue</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>resultvalue</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>统计科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E7%BB%9F%E8%AE%A1%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取统计科目单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/resultvalue&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mainrv&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;ir56macc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56bacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56Rent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;calcOrder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bmpf&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;leaveType&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printSequence&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">74</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909763000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;forOneOffSpeAllow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScaleCat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;--&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;transfer&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;i18nField&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;desc_en\&quot;: \&quot;测试统计科目\&quot;}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-TW&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;casualPayRela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;taxrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试统计科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ddesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payrollrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rvcatId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incomecate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909763000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试统计科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1651909763000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-CN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lspAcType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mandaitem&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;needCostAmor&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;showzero&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ir56eacc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysDefault&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存统计科目"><a href="#保存统计科目" class="header-anchor">#</a> 保存统计科目</h3> <h4 id="接口描述-14"><a href="#接口描述-14" class="header-anchor">#</a> 接口描述</h4> <p>用于保存统计科目单</p> <h4 id="接口调用说明-14"><a href="#接口调用说明-14" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/resultvalue</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>resultvalue</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/resultvalue&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mainrv&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">74</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;rvcatId&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">74</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(mainrv.rvcatId)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除统计科目"><a href="#删除统计科目" class="header-anchor">#</a> 删除统计科目</h3> <h4 id="接口描述-15"><a href="#接口描述-15" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的统计科目单</p> <h4 id="接口调用说明-15"><a href="#接口调用说明-15" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/resultvalue</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>resultvalue</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>统计科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E7%BB%9F%E8%AE%A1%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取统计科目单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/resultvalue&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;resultvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="保险科目"><a href="#保险科目" class="header-anchor">#</a> 保险科目</h2> <h3 id="获取保险科目单据列表"><a href="#获取保险科目单据列表" class="header-anchor">#</a> 获取保险科目单据列表</h3> <h4 id="接口描述-16"><a href="#接口描述-16" class="header-anchor">#</a> 接口描述</h4> <p>用于获取保险科目单据列表</p> <h4 id="接口调用说明-16"><a href="#接口调用说明-16" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>insurAcc</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;保险科目&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IA001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Insurance Account&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-02-21 16:11:43&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;insurAcc.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">55</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Insurance Account&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">55</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IA001&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增保险科目"><a href="#新增保险科目" class="header-anchor">#</a> 新增保险科目</h3> <h4 id="接口描述-17"><a href="#接口描述-17" class="header-anchor">#</a> 接口描述</h4> <p>用于新增保险科目记录</p> <h4 id="接口调用说明-17"><a href="#接口调用说明-17" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/insurAcc</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insurAcc</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/insurAcc&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insuracc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试保险科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insurAccCat&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(insuracc.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取保险科目"><a href="#读取保险科目" class="header-anchor">#</a> 读取保险科目</h3> <h4 id="接口描述-18"><a href="#接口描述-18" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取保险科目记录详情</p> <h4 id="接口调用说明-18"><a href="#接口调用说明-18" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/insurAcc</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insurAcc</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>保险科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BF%9D%E9%99%A9%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取保险科目单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/insurAcc&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;insuracc&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test002&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ddesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payrollrela&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insurPayer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;emp&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insurAccCat&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incomecate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nil&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printSequence&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652250429000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试保险科目&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652250429000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1652250429000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-CN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mandaitem&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;i18nField&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;desc_en\&quot;: \&quot;测试保险科目\&quot;}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-TW&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;showzero&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试保险科目&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存保险科目"><a href="#保存保险科目" class="header-anchor">#</a> 保存保险科目</h3> <h4 id="接口描述-19"><a href="#接口描述-19" class="header-anchor">#</a> 接口描述</h4> <p>用于保存保险科目单</p> <h4 id="接口调用说明-19"><a href="#接口调用说明-19" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/insurAcc</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insurAcc</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/insurAcc&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insuracc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;insurAccCat&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(insuracc.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除保险科目"><a href="#删除保险科目" class="header-anchor">#</a> 删除保险科目</h3> <h4 id="接口描述-20"><a href="#接口描述-20" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的保险科目单</p> <h4 id="接口调用说明-20"><a href="#接口调用说明-20" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/insurAcc</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insurAcc</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>保险科目单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BF%9D%E9%99%A9%E7%A7%91%E7%9B%AE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取保险科目单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/insurAcc&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insurAcc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="报销记录"><a href="#报销记录" class="header-anchor">#</a> 报销记录</h2> <h3 id="获取报销记录单据列表"><a href="#获取报销记录单据列表" class="header-anchor">#</a> 获取报销记录单据列表</h3> <h4 id="接口描述-21"><a href="#接口描述-21" class="header-anchor">#</a> 接口描述</h4> <p>用于获取报销记录单据列表</p> <h4 id="接口调用说明-21"><a href="#接口调用说明-21" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>myClaim</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;报销记录&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18060501&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;myClaim.empId.employee.code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18040801&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;myClaim.empId.employee.desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18040801_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-06-05 15:25:07&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;myClaim.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18060501&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18060501&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增报销记录"><a href="#新增报销记录" class="header-anchor">#</a> 新增报销记录</h3> <h4 id="接口描述-22"><a href="#接口描述-22" class="header-anchor">#</a> 接口描述</h4> <p>用于新增报销记录记录</p> <h4 id="接口调用说明-22"><a href="#接口调用说明-22" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/myClaim</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>myClaim</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/myClaim&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;myclaim&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">49</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;myclaimt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    		<span class="token punctuation">{</span>
    			<span class="token property">&quot;claimTypeId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    			<span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    			<span class="token property">&quot;paymentDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span>
    		<span class="token punctuation">}</span>
    	<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">168</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(myclaim.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取报销记录"><a href="#读取报销记录" class="header-anchor">#</a> 读取报销记录</h3> <h4 id="接口描述-23"><a href="#接口描述-23" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取报销记录记录详情</p> <h4 id="接口调用说明-23"><a href="#接口调用说明-23" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/myClaim</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>myClaim</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>报销记录单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E6%8A%A5%E9%94%80%E8%AE%B0%E5%BD%95%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取报销记录单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/myClaim&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;myclaimt&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">168</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;claimTypeId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">220</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;paymentDate&quot;</span><span class="token operator">:</span> <span class="token number">1652198400000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;myclaim&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">168</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652251160000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652251160000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1652251160000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udftextml&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfvarpay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;N&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存报销记录"><a href="#保存报销记录" class="header-anchor">#</a> 保存报销记录</h3> <h4 id="接口描述-24"><a href="#接口描述-24" class="header-anchor">#</a> 接口描述</h4> <p>用于保存报销记录单</p> <h4 id="接口调用说明-24"><a href="#接口调用说明-24" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/myClaim</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>myClaim</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/myClaim&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;myclaim&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(myclaim.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除报销记录"><a href="#删除报销记录" class="header-anchor">#</a> 删除报销记录</h3> <h4 id="接口描述-25"><a href="#接口描述-25" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的报销记录单</p> <h4 id="接口调用说明-25"><a href="#接口调用说明-25" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/myClaim</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>myClaim</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>报销记录单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E6%8A%A5%E9%94%80%E8%AE%B0%E5%BD%95%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取报销记录单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/myClaim&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;myClaim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="员工薪资资料"><a href="#员工薪资资料" class="header-anchor">#</a> 员工薪资资料</h2> <h3 id="获取员工薪资资料单据列表"><a href="#获取员工薪资资料单据列表" class="header-anchor">#</a> 获取员工薪资资料单据列表</h3> <h4 id="接口描述-26"><a href="#接口描述-26" class="header-anchor">#</a> 接口描述</h4> <p>用于获取员工薪资资料单据列表</p> <h4 id="接口调用说明-26"><a href="#接口调用说明-26" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>empPayrollInfo</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empPayrollInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;empPayrollInfo&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;员工薪资资料&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00002&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empPayrollInfo.empId.employee.desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00002&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empPayrollInfo.empId.employee.dept.dept.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZO&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empPayrollInfo.empId.employee.position.position.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;人事部门-简体&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-06-23 12:20:50&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empPayrollInfo.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">33518</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00002&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">33518</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00002&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增员工薪资资料"><a href="#新增员工薪资资料" class="header-anchor">#</a> 新增员工薪资资料</h3> <p><a href="#%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5">新增员工</a></p> <h3 id="读取员工薪资资料"><a href="#读取员工薪资资料" class="header-anchor">#</a> 读取员工薪资资料</h3> <h4 id="接口描述-27"><a href="#接口描述-27" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取员工薪资资料记录详情</p> <h4 id="接口调用说明-27"><a href="#接口调用说明-27" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/empPayrollInfo</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empPayrollInfo</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>员工薪资资料单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%91%98%E5%B7%A5%E8%96%AA%E8%B5%84%E8%B5%84%E6%96%99%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取员工薪资资料单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/empPayrollInfo&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empPayrollInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;emppacc&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;cur&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmltime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;allowPtFrom&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmlcombo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;obsolete&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmltest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;allowPct&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;notPublishToEssp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isAllow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fixPayId&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payUpReasonId&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token number">1546272000000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;salaryPt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmlboolean&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">453</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmldate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;subFooterRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScaleId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">168</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">1577</span><span class="token punctuation">,</span>
                <span class="token property">&quot;allowPtTo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;footerRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;allowPtDiff&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScaleFooterKey&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amtByPayScale&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmlnum&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udfmlquery&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;emppayrollinfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存员工薪资资料"><a href="#保存员工薪资资料" class="header-anchor">#</a> 保存员工薪资资料</h3> <h4 id="接口描述-28"><a href="#接口描述-28" class="header-anchor">#</a> 接口描述</h4> <p>用于保存员工薪资资料单</p> <h4 id="接口调用说明-28"><a href="#接口调用说明-28" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/empPayrollInfo</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empPayrollInfo</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/empPayrollInfo&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empPayrollInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;emppayrollinfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;empaacc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    		<span class="token punctuation">{</span>
    			<span class="token property">&quot;varPayId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    			<span class="token property">&quot;cur&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    			<span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span>
    		<span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(empaacc.cur.1)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除员工薪资资料"><a href="#删除员工薪资资料" class="header-anchor">#</a> 删除员工薪资资料</h3> <p><a href="#%E5%88%A0%E9%99%A4%E5%91%98%E5%B7%A5">删除员工</a></p> <h2 id="员工-ir56-相关资料"><a href="#员工-ir56-相关资料" class="header-anchor">#</a> 员工 IR56 相关资料</h2> <h3 id="获取员工-ir56-相关资料单据列表"><a href="#获取员工-ir56-相关资料单据列表" class="header-anchor">#</a> 获取员工 IR56 相关资料单据列表</h3> <h4 id="接口描述-29"><a href="#接口描述-29" class="header-anchor">#</a> 接口描述</h4> <p>用于获取员工 IR56 相关资料单据列表</p> <h4 id="接口调用说明-29"><a href="#接口调用说明-29" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>empIR56Info</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;员工IR56相关资料&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BT2017102501&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empIR56Info.empId.employee.code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empIR56Info.empId.employee.desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;迈克尔.乔丹&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-01-28 09:48:24&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empIR56Info.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BT_SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BT2017102501&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BT2017102501&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增员工-ir56-相关资料"><a href="#新增员工-ir56-相关资料" class="header-anchor">#</a> 新增员工 IR56 相关资料</h3> <h4 id="接口描述-30"><a href="#接口描述-30" class="header-anchor">#</a> 接口描述</h4> <p>用于新增员工 IR56 相关资料记录</p> <h4 id="接口调用说明-30"><a href="#接口调用说明-30" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/empIR56Info</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empIR56Info</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/empIR56Info&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;empir56info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;已存在该生效日期，不能保存!(empir56info.effDate)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch01_hklaw_empIR56Info_100001&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(empir56info.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取员工-ir56-相关资料"><a href="#读取员工-ir56-相关资料" class="header-anchor">#</a> 读取员工 IR56 相关资料</h3> <h4 id="接口描述-31"><a href="#接口描述-31" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取员工 IR56 相关资料记录详情</p> <h4 id="接口调用说明-31"><a href="#接口调用说明-31" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/empIR56Info</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empIR56Info</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>员工 IR56 相关资料单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%91%98%E5%B7%A5-ir56-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取员工 IR56 相关资料单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/empIR56Info&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;empir56info&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;returnHK&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;estAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rentPaidEr1&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;naturePayAfterTerm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NP&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token number">1462464000000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rentPaidToEr1&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rentPaidToEr2&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;departOtherReason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;anyMoneyHeld&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1633336030000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;overseaCo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;overseaAdd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;withheldAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;prinEr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rentRefundEmp2&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rentRefundEmp1&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;placeProByEr&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;grantDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                ......
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存员工-ir56-相关资料"><a href="#保存员工-ir56-相关资料" class="header-anchor">#</a> 保存员工 IR56 相关资料</h3> <h4 id="接口描述-32"><a href="#接口描述-32" class="header-anchor">#</a> 接口描述</h4> <p>用于保存员工 IR56 相关资料单</p> <h4 id="接口调用说明-32"><a href="#接口调用说明-32" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/empIR56Info</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empIR56Info</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/empIR56Info&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;empir56info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-12&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;已批核记录的&lt;员工&gt;无法更改(empir56info.empId)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch01_hklaw_empIR56Info_100002&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(empir56info.empId)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除员工-ir56-相关资料"><a href="#删除员工-ir56-相关资料" class="header-anchor">#</a> 删除员工 IR56 相关资料</h3> <h4 id="接口描述-33"><a href="#接口描述-33" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的员工 IR56 相关资料单</p> <h4 id="接口调用说明-33"><a href="#接口调用说明-33" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/empIR56Info</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>empIR56Info</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>员工 IR56 相关资料单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%91%98%E5%B7%A5-ir56-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取员工 IR56 相关资料单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/empIR56Info&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;empIR56Info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="薪资调整"><a href="#薪资调整" class="header-anchor">#</a> 薪资调整</h2> <h3 id="获取薪资调整单据列表"><a href="#获取薪资调整单据列表" class="header-anchor">#</a> 获取薪资调整单据列表</h3> <h4 id="接口描述-34"><a href="#接口描述-34" class="header-anchor">#</a> 接口描述</h4> <p>用于获取薪资调整单据列表</p> <h4 id="接口调用说明-34"><a href="#接口调用说明-34" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>salAdj</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;薪资调整&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;adjType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;annualPayInc&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-12-03 12:46:34&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;salAdj.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AA&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增薪资调整"><a href="#新增薪资调整" class="header-anchor">#</a> 新增薪资调整</h3> <h4 id="接口描述-35"><a href="#接口描述-35" class="header-anchor">#</a> 接口描述</h4> <p>用于新增薪资调整记录</p> <h4 id="接口调用说明-35"><a href="#接口调用说明-35" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/salAdj</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>salAdj</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/salAdj&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;saladj&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span> <span class="token number">71010</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;saladjt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    		<span class="token punctuation">{</span>
    			<span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">49</span>
    		<span class="token punctuation">}</span>
    	<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;薪酬调整说明不能重复使用，请更正。&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch01_payscale_salAdj_100002&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(saladj.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取薪资调整"><a href="#读取薪资调整" class="header-anchor">#</a> 读取薪资调整</h3> <h4 id="接口描述-36"><a href="#接口描述-36" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取薪资调整记录详情</p> <h4 id="接口调用说明-36"><a href="#接口调用说明-36" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/salAdj</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>salAdj</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>薪资调整单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E8%96%AA%E8%B5%84%E8%B0%83%E6%95%B4%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取薪资调整单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/salAdj&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;saladjt&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;salPt&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">10197</span><span class="token punctuation">,</span>
                <span class="token property">&quot;aiSusPeriodFrom&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;totalAllowAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;minPt&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amt&quot;</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;     1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;salAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;oneOffSalary&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incPercent&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                <span class="token property">&quot;totalSalaryAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;maxPt&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                <span class="token property">&quot;barPt&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;newSalAmt&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;oneOffAllow&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;increDay&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;updateByIncDate&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;aiSusPeriodTo&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;increYear&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;omitPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12.0,13.0&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payScale&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;newPt&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;incExtPt&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;increMth&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;saladj&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存薪资调整"><a href="#保存薪资调整" class="header-anchor">#</a> 保存薪资调整</h3> <h4 id="接口描述-37"><a href="#接口描述-37" class="header-anchor">#</a> 接口描述</h4> <p>用于保存薪资调整单</p> <h4 id="接口调用说明-37"><a href="#接口调用说明-37" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/salAdj</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>salAdj</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/salAdj&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;saladj&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;adjType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sal&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;下拉框的值设置不正确，不在可选项中(saladj.adjType)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143008&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除薪资调整"><a href="#删除薪资调整" class="header-anchor">#</a> 删除薪资调整</h3> <h4 id="接口描述-38"><a href="#接口描述-38" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的薪资调整单</p> <h4 id="接口调用说明-38"><a href="#接口调用说明-38" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/salAdj</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>salAdj</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>薪资调整单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E8%96%AA%E8%B5%84%E8%B0%83%E6%95%B4%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取薪资调整单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/salAdj&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;salAdj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="薪资计算"><a href="#薪资计算" class="header-anchor">#</a> 薪资计算</h2> <h3 id="获取薪资计算单据列表"><a href="#获取薪资计算单据列表" class="header-anchor">#</a> 获取薪资计算单据列表</h3> <h4 id="接口描述-39"><a href="#接口描述-39" class="header-anchor">#</a> 接口描述</h4> <p>用于获取薪资计算单据列表</p> <h4 id="接口调用说明-39"><a href="#接口调用说明-39" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>payCalcSet</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;薪资计算&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812-02&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;filingYear&quot;</span><span class="token operator">:</span> <span class="token number">2019</span><span class="token punctuation">,</span>
            <span class="token property">&quot;filingMth&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;payCalcStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;calcConfirm&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;payCalcSet.pic.employee.code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-01-06 12:12:09&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;payCalcSet.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">290</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">290</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812-02&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增薪资计算"><a href="#新增薪资计算" class="header-anchor">#</a> 新增薪资计算</h3> <h4 id="接口描述-40"><a href="#接口描述-40" class="header-anchor">#</a> 接口描述</h4> <p>用于新增薪资计算记录</p> <h4 id="接口调用说明-40"><a href="#接口调用说明-40" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/payCalcSet</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payCalcSet</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/payCalcSet&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;paycalcset&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payPeriodStart&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-01&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payPeriodEnd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-31&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attPeriodStart&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-01&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;attPeriodEnd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-31&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;filingYear&quot;</span><span class="token operator">:</span> <span class="token number">2022</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
                <span class="token property">&quot;cur&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">525</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(paycalcset.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取薪资计算"><a href="#读取薪资计算" class="header-anchor">#</a> 读取薪资计算</h3> <h4 id="接口描述-41"><a href="#接口描述-41" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取薪资计算记录详情</p> <h4 id="接口调用说明-41"><a href="#接口调用说明-41" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/payCalcSet</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payCalcSet</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>薪资计算单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E8%96%AA%E8%B5%84%E8%AE%A1%E7%AE%97%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取薪资计算单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/payCalcSet&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;paycalcsett&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">14979</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">524</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payCalcRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;paySlipRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;     1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dept&quot;</span><span class="token operator">:</span> <span class="token number">2255</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payrollFormula&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insur&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;salaryTax&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;finalPay&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">94705</span><span class="token punctuation">,</span>
                <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">48</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;paycalcset&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;paycalcsetemphistinfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">14979</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfAdjustedDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">524</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfTrusteeId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;deptId&quot;</span><span class="token operator">:</span> <span class="token number">2255</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfTypeId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfAdjustedBy&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">2028</span><span class="token punctuation">,</span>
                <span class="token property">&quot;memberNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;positionId&quot;</span><span class="token operator">:</span> <span class="token number">48</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfFirstDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfEffDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mpfAdjusted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">108583</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存薪资计算"><a href="#保存薪资计算" class="header-anchor">#</a> 保存薪资计算</h3> <h4 id="接口描述-42"><a href="#接口描述-42" class="header-anchor">#</a> 接口描述</h4> <p>用于保存薪资计算单</p> <h4 id="接口调用说明-42"><a href="#接口调用说明-42" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/payCalcSet</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payCalcSet</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/payCalcSet&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;paycalcset&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">525</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;filingYear&quot;</span><span class="token operator">:</span> <span class="token string">&quot;year&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;calcDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paycalcsett&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">49</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">525</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的数字格式(paycalcset.filingYear)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143006&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;必填项为空(paycalcset.filingYear)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101905&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除薪资计算"><a href="#删除薪资计算" class="header-anchor">#</a> 删除薪资计算</h3> <h4 id="接口描述-43"><a href="#接口描述-43" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的薪资计算单</p> <h4 id="接口调用说明-43"><a href="#接口调用说明-43" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/payCalcSet</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payCalcSet</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>薪资计算单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E8%96%AA%E8%B5%84%E8%AE%A1%E7%AE%97%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取薪资计算单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/payCalcSet&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payCalcSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="工资积欠"><a href="#工资积欠" class="header-anchor">#</a> 工资积欠</h2> <h3 id="获取工资积欠单据列表"><a href="#获取工资积欠单据列表" class="header-anchor">#</a> 获取工资积欠单据列表</h3> <h4 id="接口描述-44"><a href="#接口描述-44" class="header-anchor">#</a> 接口描述</h4> <p>用于获取工资积欠单据列表</p> <h4 id="接口调用说明-44"><a href="#接口调用说明-44" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>backPay</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;backPay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;backPay&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;工资积欠&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;backPayStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;setConfirm&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;backPay.pic.employee.code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-04-06 18:13:48&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;backPay.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;admin-SC&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">82</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">82</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000_201812&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增工资积欠"><a href="#新增工资积欠" class="header-anchor">#</a> 新增工资积欠</h3> <h4 id="接口描述-45"><a href="#接口描述-45" class="header-anchor">#</a> 接口描述</h4> <p>用于新增工资积欠记录</p> <h4 id="接口调用说明-45"><a href="#接口调用说明-45" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/backPay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>backPay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/backPay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;backPay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;backpay&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span> <span class="token number">49</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(backpay.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取工资积欠"><a href="#读取工资积欠" class="header-anchor">#</a> 读取工资积欠</h3> <h4 id="接口描述-46"><a href="#接口描述-46" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取工资积欠记录详情</p> <h4 id="接口调用说明-46"><a href="#接口调用说明-46" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/backPay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>backPay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>工资积欠单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%B7%A5%E8%B5%84%E7%A7%AF%E6%AC%A0%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取工资积欠单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/backPay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;backPay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;backpay&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;backPayStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;backPay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;notPublishToEssp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isConfirm&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;paymentId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652260630000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652260630000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1652260630000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;paymentDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存工资积欠"><a href="#保存工资积欠" class="header-anchor">#</a> 保存工资积欠</h3> <h4 id="接口描述-47"><a href="#接口描述-47" class="header-anchor">#</a> 接口描述</h4> <p>用于保存工资积欠单</p> <h4 id="接口调用说明-47"><a href="#接口调用说明-47" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/backPay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>backPay</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/backPay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;backPay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;backpay&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">90</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;backpayt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;payCalcSetId&quot;</span><span class="token operator">:</span> <span class="token number">478</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(backpayt.payCalcSetId.1)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除工资积欠"><a href="#删除工资积欠" class="header-anchor">#</a> 删除工资积欠</h3> <h4 id="接口描述-48"><a href="#接口描述-48" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的工资积欠单</p> <h4 id="接口调用说明-48"><a href="#接口调用说明-48" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/backPay</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>backPay</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>工资积欠单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E5%B7%A5%E8%B5%84%E7%A7%AF%E6%AC%A0%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取工资积欠单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/backPay&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;backPay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="付款单"><a href="#付款单" class="header-anchor">#</a> 付款单</h2> <h3 id="获取付款单据列表"><a href="#获取付款单据列表" class="header-anchor">#</a> 获取付款单据列表</h3> <h4 id="接口描述-49"><a href="#接口描述-49" class="header-anchor">#</a> 接口描述</h4> <p>用于获取付款单据列表</p> <h4 id="接口调用说明-49"><a href="#接口调用说明-49" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>payment</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;payment&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;付款单&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;paymentDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-06-01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;paymentStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;payment.pic.employee.code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTEST01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-06-06 17:12:26&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;payment.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增付款单"><a href="#新增付款单" class="header-anchor">#</a> 新增付款单</h3> <h4 id="接口描述-50"><a href="#接口描述-50" class="header-anchor">#</a> 接口描述</h4> <p>用于新增付款单记录</p> <h4 id="接口调用说明-50"><a href="#接口调用说明-50" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/payment</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payment</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/payment&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;payment&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;paymentDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span> <span class="token number">49</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">115</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(payment.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取付款单"><a href="#读取付款单" class="header-anchor">#</a> 读取付款单</h3> <h4 id="接口描述-51"><a href="#接口描述-51" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取付款单记录详情</p> <h4 id="接口调用说明-51"><a href="#接口调用说明-51" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/payment</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payment</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>付款单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BB%98%E6%AC%BE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取付款单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/payment&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;paymentemp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">14657</span><span class="token punctuation">,</span>
                <span class="token property">&quot;cur&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payCalcSetId&quot;</span><span class="token operator">:</span> <span class="token number">447</span><span class="token punctuation">,</span>
                <span class="token property">&quot;backPayId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amt&quot;</span><span class="token operator">:</span> <span class="token number">89000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;bankAcc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">5164</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;bank&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payMethod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;autopay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;tranDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1524</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;empId&quot;</span><span class="token operator">:</span> <span class="token number">14649</span><span class="token punctuation">,</span>
                <span class="token property">&quot;cur&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payCalcSetId&quot;</span><span class="token operator">:</span> <span class="token number">447</span><span class="token punctuation">,</span>
                <span class="token property">&quot;backPayId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amt&quot;</span><span class="token operator">:</span> <span class="token number">89000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;bankAcc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0002&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">2028</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;bank&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payMethod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;autopay&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;tranDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1525</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;paymentt&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;hId&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payCalcSetId&quot;</span><span class="token operator">:</span> <span class="token number">447</span><span class="token punctuation">,</span>
                <span class="token property">&quot;backPayId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">137</span><span class="token punctuation">,</span>
                <span class="token property">&quot;itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;     1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;payCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MLSZ0002-2010&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remarks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;backpay&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;payment&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存付款单"><a href="#保存付款单" class="header-anchor">#</a> 保存付款单</h3> <h4 id="接口描述-52"><a href="#接口描述-52" class="header-anchor">#</a> 接口描述</h4> <p>用于保存付款单</p> <h4 id="接口调用说明-52"><a href="#接口调用说明-52" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/payment</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payment</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/payment&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;payment&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paymentt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;payCode&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;空值异常&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_130001&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除付款单"><a href="#删除付款单" class="header-anchor">#</a> 删除付款单</h3> <h4 id="接口描述-53"><a href="#接口描述-53" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的付款单</p> <h4 id="接口调用说明-53"><a href="#接口调用说明-53" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/payment</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>payment</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>付款单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BB%98%E6%AC%BE%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取付款单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/payment&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="保险资料"><a href="#保险资料" class="header-anchor">#</a> 保险资料</h2> <h3 id="获取保险资料单据列表"><a href="#获取保险资料单据列表" class="header-anchor">#</a> 获取保险资料单据列表</h3> <h4 id="接口描述-54"><a href="#接口描述-54" class="header-anchor">#</a> 接口描述</h4> <p>用于获取保险资料单据列表</p> <h4 id="接口调用说明-54"><a href="#接口调用说明-54" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/search/search</th></tr></thead> <tbody><tr><td style="text-align:left;">HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td style="text-align:left;">编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>stSearch</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>Lookup Type. 可在 UDF Lookup 中找到。<br>（Eg: <code>insur</code> ......）</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>Lookup Query 中的格式 ID <br>（若未指定该参数，则使用默认格式）</td></tr> <tr><td>startRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>endRow</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的结束行</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">N</td> <td>设定关键字查找数据</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/search/search&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;stSearch=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;startRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;endRow=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;insur&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;保险资料&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INSUR00001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京 - 本地城镇&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-06-15 15:55:12&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;insur.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京 - 本地城镇&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INSUR00001&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>......<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="新增保险资料"><a href="#新增保险资料" class="header-anchor">#</a> 新增保险资料</h3> <h4 id="接口描述-55"><a href="#接口描述-55" class="header-anchor">#</a> 接口描述</h4> <p>用于新增保险资料记录</p> <h4 id="接口调用说明-55"><a href="#接口调用说明-55" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/insur</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insur</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/insur&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insur&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;保险资料&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;保险地区&gt; + &lt;保险身份&gt; +&lt;生效日期&gt;不能重复使用, 请更正(insur.insurDistrict,insur.insurIdentity,insur.effDate)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch01_insur_insur_100002&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;编号重复(insur.code)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101903&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="读取保险资料"><a href="#读取保险资料" class="header-anchor">#</a> 读取保险资料</h3> <h4 id="接口描述-56"><a href="#接口描述-56" class="header-anchor">#</a> 接口描述</h4> <p>根据 ID 读取保险资料记录详情</p> <h4 id="接口调用说明-56"><a href="#接口调用说明-56" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/read/insur</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">GET</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insur</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>保险资料单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BF%9D%E9%99%A9%E8%B5%84%E6%96%99%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取保险资料单据列表</a>返回的 ID</td></tr> <tr><td>iRev</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">N</td> <td>版本号，用于读取历史记录 / 已删除的记录</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">JSONObject</span> json <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/read/insur&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;insur&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;attachmentNo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test001&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sysJson&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;viewCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;insur&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;beId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token number">-2209017600000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expired&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insurDistrict&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;printCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessBl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span>
                <span class="token property">&quot;statusModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652263652000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;保险资料&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1652263652000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token number">1652263652000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-CN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastApproveUid&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;udflevel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;expiredUid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessWl&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;insurIdentity&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;i18nField&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;desc_en\&quot;: \&quot;保险资料\&quot;}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc_zh-TW&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;useAccessAutoCalc&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;保险资料&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;找不到相关记录，记录可能已被删除或你没有访问权限&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_141019&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="保存保险资料"><a href="#保存保险资料" class="header-anchor">#</a> 保存保险资料</h3> <h4 id="接口描述-57"><a href="#接口描述-57" class="header-anchor">#</a> 接口描述</h4> <p>用于保存保险资料单</p> <h4 id="接口调用说明-57"><a href="#接口调用说明-57" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/save/insur</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">PUT</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insur</code></td></tr> <tr><td>entity</td> <td><code>String</code> (Body)</td> <td style="text-align:center;">Y</td> <td>JSON （可参考请求示例中的相关参数）</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">long</span> recordId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/save/insur&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpPut</span> put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPut</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StringEntity</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ContentType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span><span class="token function">setContentEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    put<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>put<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            recordId <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getLongValue</span><span class="token punctuation">(</span><span class="token string">&quot;recordId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    put<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中 Entity 的  JSON 格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insur&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-05-11&quot;</span><span class="token punctuation">,</span>
            	<span class="token property">&quot;insurDistrict&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;insurt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
            	<span class="token property">&quot;insurAcc&quot;</span><span class="token operator">:</span> <span class="token number">41</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;recordId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;存在无效数据(insur.insurDistrict)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_143009&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="删除保险资料"><a href="#删除保险资料" class="header-anchor">#</a> 删除保险资料</h3> <h4 id="接口描述-58"><a href="#接口描述-58" class="header-anchor">#</a> 接口描述</h4> <p>用于删除指定 ID 的保险资料单</p> <h4 id="接口调用说明-58"><a href="#接口调用说明-58" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th style="text-align:center;">http://[server]/jsf/rfws/root/api/delete/insur</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td style="text-align:center;">DELETE</td></tr> <tr><td>编码类型</td> <td style="text-align:center;">UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>menuCode</td> <td><code>String</code> (Query)</td> <td style="text-align:center;">Y</td> <td>可在 Data Dictionary 中找到 <br>Eg: <code>insur</code></td></tr> <tr><td>id</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>保险资料单 ID，可参考<a href="#%E8%8E%B7%E5%8F%96%E4%BF%9D%E9%99%A9%E8%B5%84%E6%96%99%E5%8D%95%E6%8D%AE%E5%88%97%E8%A1%A8">获取保险资料单据列表</a>返回的 ID</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/root/api/delete/insur&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;menuCode=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;insur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;id=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpDelete</span> delete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpDelete</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delete<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>delete<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    delete<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;msgDetail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;单据已被删除&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;msgCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;core_101017&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="读取-ebi-数据"><a href="#读取-ebi-数据" class="header-anchor">#</a> 读取 EBI 数据</h2> <h3 id="员工固定科目列表"><a href="#员工固定科目列表" class="header-anchor">#</a> 员工固定科目列表</h3> <h4 id="接口描述-59"><a href="#接口描述-59" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工固定科目列表] EBI，并返回数据</p> <h4 id="接口调用说明-59"><a href="#接口调用说明-59" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0003&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;F1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/01/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_latest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14668&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_isCurEffect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPFIXPAY_EBI.e7f5bf9e.jpg" alt="EMPFIXPAY_EBI"></p></li></ol> <h3 id="员工变动科目列表"><a href="#员工变动科目列表" class="header-anchor">#</a> 员工变动科目列表</h3> <h4 id="接口描述-60"><a href="#接口描述-60" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工变动科目列表] EBI，并返回数据</p> <h4 id="接口调用说明-60"><a href="#接口调用说明-60" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1901/01/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VP001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_B_sym&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A货币&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_A_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;677.0000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;VP_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10127&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPVARPAY_EBI.925dec16.jpg" alt="EMPVARPAY_EBI"></p></li></ol> <h3 id="薪资统计科目报告"><a href="#薪资统计科目报告" class="header-anchor">#</a> 薪资统计科目报告</h3> <h4 id="接口描述-61"><a href="#接口描述-61" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资统计科目报告] EBI，并返回数据</p> <h4 id="接口调用说明-61"><a href="#接口调用说明-61" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTESTHK01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PCR_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;478&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PCR_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTESTHK2022&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HKD&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;72474&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;29,400.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYRESULTVAL_EBI.4ee50107.jpg" alt="PAYRESULTVAL_EBI"></p></li></ol> <h3 id="员工薪资参数列表"><a href="#员工薪资参数列表" class="header-anchor">#</a> 员工薪资参数列表</h3> <h4 id="接口描述-62"><a href="#接口描述-62" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工薪资参数列表] EBI，并返回数据</p> <h4 id="接口调用说明-62"><a href="#接口调用说明-62" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T3_B_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PAYPAR2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_B_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70363&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/03/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_isCurEffect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17080801&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPPAYPARA_EBI.9fe5cef2.jpg" alt="EMPPAYPARA_EBI"></p></li></ol> <h3 id="薪资分析报告"><a href="#薪资分析报告" class="header-anchor">#</a> 薪资分析报告</h3> <h4 id="接口描述-63"><a href="#接口描述-63" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资分析报告] EBI，并返回数据</p> <h4 id="接口调用说明-63"><a href="#接口调用说明-63" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_PAYROLLX_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HKD&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MLT001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_filingYear&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_filingMth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7月&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_PAYROLLX_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14657&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_PAYROLLX_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;35,000.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_PAYROLLX_repCurAmt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYWAREHOUSE_EBI.69b68886.jpg" alt="PAYWAREHOUSE_EBI"></p></li></ol> <h3 id="最后薪资报告"><a href="#最后薪资报告" class="header-anchor">#</a> 最后薪资报告</h3> <h4 id="接口描述-64"><a href="#接口描述-64" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [最后薪资报告] EBI，并返回数据</p> <h4 id="接口调用说明-64"><a href="#接口调用说明-64" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;MAIN_amt_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_calcDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018/03/22&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/FINALPAY_EBI.08ac01b8.jpg" alt="FINALPAY_EBI"></p></li></ol> <h3 id="员工成本摊分设定报告"><a href="#员工成本摊分设定报告" class="header-anchor">#</a> 员工成本摊分设定报告</h3> <h4 id="接口描述-65"><a href="#接口描述-65" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工成本摊分设定报告] EBI，并返回数据</p> <h4 id="接口调用说明-65"><a href="#接口调用说明-65" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;MAIN_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/01/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_residue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;是&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_absCeil&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_udfresult29&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10127&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPCOSTAMOR_EBI.aa26f2a2.jpg" alt="EMPCOSTAMOR_EBI"></p></li></ol> <h3 id="薪资摊分报告"><a href="#薪资摊分报告" class="header-anchor">#</a> 薪资摊分报告</h3> <h4 id="接口描述-66"><a href="#接口描述-66" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资摊分报告] EBI，并返回数据</p> <h4 id="接口调用说明-66"><a href="#接口调用说明-66" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T2_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2310&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CHAN Siu Ming(Tom)&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_C_filingYear&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_C_accountDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020年10月31日&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_C_irDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020年10月31日&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_deptDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MKT&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T4_A_ceilType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;No&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PLTEST0438&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16013&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_C_filingMth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OCT&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_percent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000453&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYROLLAMOR_EBI.a296150d.png" alt="PAYROLLAMOR_EBI"></p></li></ol> <h3 id="薪资组合列表-固定科目"><a href="#薪资组合列表-固定科目" class="header-anchor">#</a> 薪资组合列表（固定科目）</h3> <h4 id="接口描述-67"><a href="#接口描述-67" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资组合列表（固定科目）] EBI，并返回数据</p> <h4 id="接口调用说明-67"><a href="#接口调用说明-67" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T1_A_cur_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HKD&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/10/07 10:41:41&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5,000.0000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_amtWithRate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T1&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/SALARYPACKAGE_EBI.bc9d83e4.jpg" alt="SALARYPACKAGE_EBI"></p></li></ol> <h3 id="薪资组合列表-薪资参数"><a href="#薪资组合列表-薪资参数" class="header-anchor">#</a> 薪资组合列表（薪资参数）</h3> <h4 id="接口描述-68"><a href="#接口描述-68" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资组合列表（薪资参数）] EBI，并返回数据</p> <h4 id="接口调用说明-68"><a href="#接口调用说明-68" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T2_A_itemNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/06/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_pParaId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_insurJoinDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_pParaId_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_pParaId_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T1&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/SALARYPACKPARA_EBI.b32aa9e2.jpg" alt="SALARYPACKPARA_EBI"></p></li></ol> <h3 id="每月薪资核对明细报告"><a href="#每月薪资核对明细报告" class="header-anchor">#</a> 每月薪资核对明细报告</h3> <h4 id="接口描述-69"><a href="#接口描述-69" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [每月薪资核对明细报告] EBI，并返回数据</p> <h4 id="接口调用说明-69"><a href="#接口调用说明-69" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;MAIN_isSalRev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_variance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_currentYear&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_isProbaPass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;72474&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_isResign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_currentMth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_currentMthAmt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;其他&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTESTHK01&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/MONTHPAYRECON_EBI.bfb7d22b.jpg" alt="MONTHPAYRECON_EBI"></p></li></ol> <h3 id="员工薪资资料列表"><a href="#员工薪资资料列表" class="header-anchor">#</a> 员工薪资资料列表</h3> <h4 id="接口描述-70"><a href="#接口描述-70" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工薪资资料列表] EBI，并返回数据</p> <h4 id="接口调用说明-70"><a href="#接口调用说明-70" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T1_A_cur_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_insurSusDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_insurJoinDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_bankAcc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_insurNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;49&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00006&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPPAYINFOLIST_EBI.d8502601.jpg" alt="EMPPAYINFOLIST_EBI"></p></li></ol> <h3 id="员工-ir56-相关资料报告"><a href="#员工-ir56-相关资料报告" class="header-anchor">#</a> 员工 IR56 相关资料报告</h3> <h4 id="接口描述-71"><a href="#接口描述-71" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工 IR56 相关资料报告] EBI，并返回数据</p> <h4 id="接口调用说明-71"><a href="#接口调用说明-71" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SZ0001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EI_A_prinEr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddddddddddddddddf&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EI_A_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EI_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aaaff&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14657&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EI_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_isCurEffect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;是&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPIR56INFO_EBI.c151fd35.jpg" alt="EMPIR56INFO_EBI"></p></li></ol> <h3 id="员工强积金资料列表"><a href="#员工强积金资料列表" class="header-anchor">#</a> 员工强积金资料列表</h3> <h4 id="接口描述-72"><a href="#接口描述-72" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工强积金资料列表] EBI，并返回数据</p> <h4 id="接口调用说明-72"><a href="#接口调用说明-72" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;e_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70775&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/11/20&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_A_mpfEffDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_B_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_B_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;empf_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;e_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018032011&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPMPFINFO_EBI.aa381429.jpg" alt="EMPMPFINFO_EBI"></p></li></ol> <h3 id="薪资统计科目报告-包括强积金记录"><a href="#薪资统计科目报告-包括强积金记录" class="header-anchor">#</a> 薪资统计科目报告（包括强积金记录）</h3> <h4 id="接口描述-73"><a href="#接口描述-73" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资统计科目报告（包括强积金记录）] EBI，并返回数据</p> <h4 id="接口调用说明-73"><a href="#接口调用说明-73" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00004&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_paccId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RMB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_calcConfirm_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_amt_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_calcDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/08/31&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;51&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYRESULTVAL_MPF_EBI.0246438b.jpg" alt="PAYRESULTVAL_MPF_EBI"></p></li></ol> <h3 id="薪资分析报告-包括强积金记录"><a href="#薪资分析报告-包括强积金记录" class="header-anchor">#</a> 薪资分析报告（包括强积金记录）</h3> <h4 id="接口描述-74"><a href="#接口描述-74" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资分析报告（包括强积金记录）] EBI，并返回数据</p> <h4 id="接口调用说明-74"><a href="#接口调用说明-74" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;BP_E_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_EEVCX_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;72339&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_EEMCX_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;750.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_E_mpfDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST38&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_mpfDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019/08/31&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BT_PC20190801&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;351&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_E_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_D_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_D_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_MCRELINCX_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15,000.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYWAREHOUSE_MPF_EBI.8d2955b9.jpg" alt="PAYWAREHOUSE_MPF_EBI"></p></li></ol> <h3 id="最后薪资报告-包括强积金记录"><a href="#最后薪资报告-包括强积金记录" class="header-anchor">#</a> 最后薪资报告（包括强积金记录）</h3> <h4 id="接口描述-75"><a href="#接口描述-75" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [最后薪资报告（包括强积金记录）] EBI，并返回数据</p> <h4 id="接口调用说明-75"><a href="#接口调用说明-75" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST009&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_amt_cur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_pay_transferConfirm_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TERM_A_applyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019/01/16&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_calcDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018/03/22&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70362&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;薪资计算&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_mpfGenStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;否&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/FINALPAY_MPF_EBI.ce7dfaf0.jpg" alt="FINALPAY_MPF_EBI"></p></li></ol> <h3 id="员工保险科目报告"><a href="#员工保险科目报告" class="header-anchor">#</a> 员工保险科目报告</h3> <h4 id="接口描述-76"><a href="#接口描述-76" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工保险科目报告] EBI，并返回数据</p> <h4 id="接口调用说明-76"><a href="#接口调用说明-76" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T3_A_insurIdentity_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;本地城镇&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_insurWithDrawDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_insurDistrict_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_insurJoinDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/11/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京 - 本地城镇&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_insurSusDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T4_A_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;住房公积金-自提-简体&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;51&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T4_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;47&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00004&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T3_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INSUR00001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T4_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IACAT0201&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPINSUR_EBI.7d9e96a7.jpg" alt="EMPINSUR_EBI"></p></li></ol> <h3 id="保险综合分析报告"><a href="#保险综合分析报告" class="header-anchor">#</a> 保险综合分析报告</h3> <h4 id="接口描述-77"><a href="#接口描述-77" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [保险综合分析报告] EBI，并返回数据</p> <h4 id="接口调用说明-77"><a href="#接口调用说明-77" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00004&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;I_A_insurDistrict_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MLT001&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_filingYear&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_filingMth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7月&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;P_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;I_A_insurIdentity_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;51&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_ir_IACAT0102&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_ir_IACAT0101&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/INSSUMREP_EBI.58b1b9d2.jpg" alt="INSSUMREP_EBI"></p></li></ol> <h3 id="薪酬表报告"><a href="#薪酬表报告" class="header-anchor">#</a> 薪酬表报告</h3> <h4 id="接口描述-78"><a href="#接口描述-78" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪酬表报告] EBI，并返回数据</p> <h4 id="接口调用说明-78"><a href="#接口调用说明-78" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T1_A_hId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_B_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021/04/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_C_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTEST01X&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12,880.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_C_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_C_cur_desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HKD&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_salaryPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYSCALE_EBI.a63d803d.jpg" alt="PAYSCALE_EBI"></p></li></ol> <h3 id="职级明细报告"><a href="#职级明细报告" class="header-anchor">#</a> 职级明细报告</h3> <h4 id="接口描述-79"><a href="#接口描述-79" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [职级明细报告] EBI，并返回数据</p> <h4 id="接口调用说明-79"><a href="#接口调用说明-79" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;MAIN_minPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021/04/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_barPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;R1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CTEST01X&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;MAIN_maxPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6.00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/RANK_DETAIL_EBI.41228b8e.jpg" alt="RANK_DETAIL_EBI"></p></li></ol> <h3 id="薪资数据仓库-ngo"><a href="#薪资数据仓库-ngo" class="header-anchor">#</a> 薪资数据仓库 (NGO)</h3> <h4 id="接口描述-80"><a href="#接口描述-80" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [薪资数据仓库 (NGO)] EBI，并返回数据</p> <h4 id="接口调用说明-80"><a href="#接口调用说明-80" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00005&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EPI_A_insurJoinDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017/01/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EPI_A_houseFundAcc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;asdf&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_D_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_B_salaryTax_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_B_salaryTax&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;52&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_D_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;BP_D_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/PAYWAREHOUSE_NGO_EBI.83406721.jpg" alt="PAYWAREHOUSE_NGO_EBI"></p></li></ol> <h3 id="员工职级编码列表"><a href="#员工职级编码列表" class="header-anchor">#</a> 员工职级编码列表</h3> <h4 id="接口描述-81"><a href="#接口描述-81" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [员工职级编码列表] EBI，并返回数据</p> <h4 id="接口调用说明-81"><a href="#接口调用说明-81" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;E_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTEST004&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_A_maxPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_A_barPt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_A_effDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2015/06/01&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;E_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10197&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_D_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_B_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BMPS&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ERC_B_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/EMPRANKCODE_EBI.15ec1644.jpg" alt="EMPRANKCODE_EBI"></p></li></ol> <h3 id="报销报告"><a href="#报销报告" class="header-anchor">#</a> 报销报告</h3> <h4 id="接口描述-82"><a href="#接口描述-82" class="header-anchor">#</a> 接口描述</h4> <p>用于按照指定 EBI 格式读取 [报销报告] EBI，并返回数据</p> <h4 id="接口调用说明-82"><a href="#接口调用说明-82" class="header-anchor">#</a> 接口调用说明</h4> <ol><li><p>请求说明</p> <table><thead><tr><th>URL</th> <th>http://[server]/jsf/rfws/ebiWidget/loadReport</th></tr></thead> <tbody><tr><td>HTTP 请求方式</td> <td>GET</td></tr> <tr><td>编码类型</td> <td>UTF-8</td></tr></tbody></table></li> <li><p>URL 参数</p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:center;">必填</th> <th>说明</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/#获取访问权限">OAuth</a> 获取的 Access Token</td></tr> <tr><td>client_id</td> <td><code>String</code> (Header)</td> <td style="text-align:center;">Y</td> <td>M18 <a href="/en/api/ch01/#创建访问账号">授权应用列表</a>中的 Client ID</td></tr> <tr><td>formatId</td> <td><code>long</code> (Query)</td> <td style="text-align:center;">Y</td> <td>通过 <a href="/en/api/ch01/EBI#%E6%9F%A5%E8%AF%A2EBI%E7%9A%84format%E5%88%97%E8%A1%A8">EBI</a> 接口获得</td></tr> <tr><td>offset</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果的开始行</td></tr> <tr><td>rows</td> <td><code>int</code> (Query)</td> <td style="text-align:center;">N</td> <td>返回结果行数</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CloseableHttpClient</span> client <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CloseableHttpResponse</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostIP</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">HostPort</span> <span class="token operator">+</span> <span class="token string">&quot;/jsf/rfws/ebiWidget/loadReport&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">StringBuilder</span> paramStrBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;formatId=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>formatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;offset=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paramStrBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;rows=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpGet</span> get <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> paramStrBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    get<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ClientID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    get<span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>返回示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;T1_B_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;M18ReservedCol_dataIndex&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018/09/14 09:47:02&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10183&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T2_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A003&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;T1_A_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AACC_1506337424035&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/CLAIM_EBI.1ace9575.jpg" alt="CLAIM_EBI"></p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/api/ch01/ws_ch01_medical.html" class="prev">
        医疗索偿管理
      </a></span> <span class="next"><a href="/en/api/ch01/ws_ch01_recruit.html">
        招聘管理模块
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a454ef97.js" defer></script><script src="/assets/js/2.09bf837d.js" defer></script><script src="/assets/js/6.cd92b9b4.js" defer></script>
  </body>
</html>
