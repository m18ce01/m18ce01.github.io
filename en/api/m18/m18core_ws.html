<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Core Web Services | M18 Developer Center</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Learning in Core Web Services for ERP system. Browse reference, sample code, tutorials, and more.">
    <meta name="keywords" content="Core Web Services, ERP, ERP software, ERP system, ERP solution">
    
    <link rel="preload" href="/assets/css/0.styles.20027d00.css" as="style"><link rel="preload" href="/assets/js/app.8e064e26.js" as="script"><link rel="preload" href="/assets/js/2.2e75dd35.js" as="script"><link rel="preload" href="/assets/js/76.c8490eca.js" as="script"><link rel="prefetch" href="/assets/js/10.1bdb3db8.js"><link rel="prefetch" href="/assets/js/100.d3c138f9.js"><link rel="prefetch" href="/assets/js/101.423a69c3.js"><link rel="prefetch" href="/assets/js/102.6bbb0223.js"><link rel="prefetch" href="/assets/js/103.aac0139b.js"><link rel="prefetch" href="/assets/js/104.1d393e3d.js"><link rel="prefetch" href="/assets/js/105.898b0c7c.js"><link rel="prefetch" href="/assets/js/106.42a692dd.js"><link rel="prefetch" href="/assets/js/107.0c7e4f8c.js"><link rel="prefetch" href="/assets/js/108.6bafedb9.js"><link rel="prefetch" href="/assets/js/109.f07ab115.js"><link rel="prefetch" href="/assets/js/11.58b6decd.js"><link rel="prefetch" href="/assets/js/110.73c28140.js"><link rel="prefetch" href="/assets/js/111.ec71ad61.js"><link rel="prefetch" href="/assets/js/112.536007c0.js"><link rel="prefetch" href="/assets/js/113.df212c56.js"><link rel="prefetch" href="/assets/js/114.8b6a9803.js"><link rel="prefetch" href="/assets/js/12.a8b25a06.js"><link rel="prefetch" href="/assets/js/13.cbc62a44.js"><link rel="prefetch" href="/assets/js/14.95a15c74.js"><link rel="prefetch" href="/assets/js/15.7028157b.js"><link rel="prefetch" href="/assets/js/16.9e5c2ca2.js"><link rel="prefetch" href="/assets/js/17.4376cdb0.js"><link rel="prefetch" href="/assets/js/18.b3ab04f3.js"><link rel="prefetch" href="/assets/js/19.e4f12dd0.js"><link rel="prefetch" href="/assets/js/20.dbb6576b.js"><link rel="prefetch" href="/assets/js/21.8b269ff5.js"><link rel="prefetch" href="/assets/js/22.09992224.js"><link rel="prefetch" href="/assets/js/23.d19b5d46.js"><link rel="prefetch" href="/assets/js/24.559c1f6d.js"><link rel="prefetch" href="/assets/js/25.a31302bf.js"><link rel="prefetch" href="/assets/js/26.a9633dfe.js"><link rel="prefetch" href="/assets/js/27.6b88037c.js"><link rel="prefetch" href="/assets/js/28.cde3f572.js"><link rel="prefetch" href="/assets/js/29.51b51023.js"><link rel="prefetch" href="/assets/js/3.0e60f539.js"><link rel="prefetch" href="/assets/js/30.07ed35d2.js"><link rel="prefetch" href="/assets/js/31.68e03098.js"><link rel="prefetch" href="/assets/js/32.2fc13e8a.js"><link rel="prefetch" href="/assets/js/33.fa31497c.js"><link rel="prefetch" href="/assets/js/34.e094ef2c.js"><link rel="prefetch" href="/assets/js/35.a02d8b1f.js"><link rel="prefetch" href="/assets/js/36.3dee9fbd.js"><link rel="prefetch" href="/assets/js/37.faafe37c.js"><link rel="prefetch" href="/assets/js/38.cc763b2d.js"><link rel="prefetch" href="/assets/js/39.0c9a8550.js"><link rel="prefetch" href="/assets/js/4.736d5847.js"><link rel="prefetch" href="/assets/js/40.75905911.js"><link rel="prefetch" href="/assets/js/41.bfaabc73.js"><link rel="prefetch" href="/assets/js/42.1fc5c4f4.js"><link rel="prefetch" href="/assets/js/43.d1442d31.js"><link rel="prefetch" href="/assets/js/44.c45d44eb.js"><link rel="prefetch" href="/assets/js/45.15c8f98a.js"><link rel="prefetch" href="/assets/js/46.56b68169.js"><link rel="prefetch" href="/assets/js/47.815bc219.js"><link rel="prefetch" href="/assets/js/48.e97ef319.js"><link rel="prefetch" href="/assets/js/49.1d768b9a.js"><link rel="prefetch" href="/assets/js/5.34e81146.js"><link rel="prefetch" href="/assets/js/50.777bb74b.js"><link rel="prefetch" href="/assets/js/51.59bc0ae9.js"><link rel="prefetch" href="/assets/js/52.fb3e3932.js"><link rel="prefetch" href="/assets/js/53.d3a373e4.js"><link rel="prefetch" href="/assets/js/54.d747527d.js"><link rel="prefetch" href="/assets/js/55.a35f7c9c.js"><link rel="prefetch" href="/assets/js/56.99c7240e.js"><link rel="prefetch" href="/assets/js/57.47a9d9f4.js"><link rel="prefetch" href="/assets/js/58.28c84555.js"><link rel="prefetch" href="/assets/js/59.c1831341.js"><link rel="prefetch" href="/assets/js/6.e4a74859.js"><link rel="prefetch" href="/assets/js/60.1073759a.js"><link rel="prefetch" href="/assets/js/61.b920e266.js"><link rel="prefetch" href="/assets/js/62.c1ef9ba0.js"><link rel="prefetch" href="/assets/js/63.89567f4c.js"><link rel="prefetch" href="/assets/js/64.378c828d.js"><link rel="prefetch" href="/assets/js/65.ad370b2b.js"><link rel="prefetch" href="/assets/js/66.b1accf50.js"><link rel="prefetch" href="/assets/js/67.0a3f2e0a.js"><link rel="prefetch" href="/assets/js/68.952d2b2a.js"><link rel="prefetch" href="/assets/js/69.0940f4e2.js"><link rel="prefetch" href="/assets/js/7.66594b79.js"><link rel="prefetch" href="/assets/js/70.52631038.js"><link rel="prefetch" href="/assets/js/71.e1245652.js"><link rel="prefetch" href="/assets/js/72.24048676.js"><link rel="prefetch" href="/assets/js/73.5912a8eb.js"><link rel="prefetch" href="/assets/js/74.979adb85.js"><link rel="prefetch" href="/assets/js/75.f33cc424.js"><link rel="prefetch" href="/assets/js/77.812b9129.js"><link rel="prefetch" href="/assets/js/78.6e0617be.js"><link rel="prefetch" href="/assets/js/79.8bfcb813.js"><link rel="prefetch" href="/assets/js/8.393ed46c.js"><link rel="prefetch" href="/assets/js/80.a300bd94.js"><link rel="prefetch" href="/assets/js/81.99aeccf1.js"><link rel="prefetch" href="/assets/js/82.660134d3.js"><link rel="prefetch" href="/assets/js/83.9b2f8973.js"><link rel="prefetch" href="/assets/js/84.1c6d8c3e.js"><link rel="prefetch" href="/assets/js/85.894b0d8a.js"><link rel="prefetch" href="/assets/js/86.cb802d67.js"><link rel="prefetch" href="/assets/js/87.45361322.js"><link rel="prefetch" href="/assets/js/88.3b2ca726.js"><link rel="prefetch" href="/assets/js/89.89988b79.js"><link rel="prefetch" href="/assets/js/9.05774c11.js"><link rel="prefetch" href="/assets/js/90.5859a97a.js"><link rel="prefetch" href="/assets/js/91.ae297240.js"><link rel="prefetch" href="/assets/js/92.8e91651d.js"><link rel="prefetch" href="/assets/js/93.0131c1f3.js"><link rel="prefetch" href="/assets/js/94.13a05e25.js"><link rel="prefetch" href="/assets/js/95.4d5900b3.js"><link rel="prefetch" href="/assets/js/96.41c09226.js"><link rel="prefetch" href="/assets/js/97.e679e387.js"><link rel="prefetch" href="/assets/js/98.ab7764ab.js"><link rel="prefetch" href="/assets/js/99.c2f48da4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.20027d00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">M18 Developer Center</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link router-link-active">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link router-link-active">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>M18 WebServices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/api/m18/m18wsauth.html" class="sidebar-link">Authentication</a></li><li><a href="/en/api/m18/m18wsjson.html" class="sidebar-link">Common JSON Objects</a></li><li><a href="/en/api/m18/m18core_ws.html" aria-current="page" class="active sidebar-link">M18 Core Web Services</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#crud-web-services-of-entities" class="sidebar-link">CRUD Web Services of Entities</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#get-id-by-code-web-service" class="sidebar-link">Get ID by Code Web Service</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#data-search-web-service" class="sidebar-link">Data Search Web Service</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#attachment-web-services" class="sidebar-link">Attachment Web Services</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#alert-web-services" class="sidebar-link">Alert Web Services</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#announcement-web-services" class="sidebar-link">Announcement Web Services</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18core_ws.html#document-printing-web-services" class="sidebar-link">Document Printing Web Services</a></li></ul></li><li><a href="/en/api/m18/m18bpmws.html" class="sidebar-link">Business Process Management (BPM)</a></li><li><a href="/en/api/m18/ebiwsform18app.html" class="sidebar-link">Enduser-driven Business Intelligence (EBI)</a></li><li><a href="/en/api/m18/m18scmws.html" class="sidebar-link">Schedule Management (SCM)</a></li><li><a href="/en/api/m18/m18dmsws.html" class="sidebar-link">Document Management System (DMS)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="m18-core-web-services"><a href="#m18-core-web-services" class="header-anchor">#</a> M18 Core Web Services</h1> <p><code>Version: 1.0 | Release Date: 14/8/2018</code></p> <h2 id="crud-web-services-of-entities"><a href="#crud-web-services-of-entities" class="header-anchor">#</a> CRUD Web Services of Entities</h2> <p>An entity means a record in a M18 module, the following web services related to entities are provided:</p> <ul><li>Create</li> <li>Read</li> <li>Update</li> <li>Delete</li></ul> <h3 id="create-entity"><a href="#create-entity" class="header-anchor">#</a> Create Entity</h3> <p>Get an empty SqlEntity of a specific module.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/entity/create/employee?menuCode=employee&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request"><a href="#http-request" class="header-anchor">#</a> HTTP Request</h4> <p><code>POST http://[server]/jsf/rfws/entity/create/[module]?menuCode=[menuCode]</code></p> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>module</td> <td><code>String</code>(<em>Path</em>)</td> <td><strong>Required.</strong> Module type, can be found in data dictionary.</td></tr> <tr><td>menuCode</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Menu code, such as 'employee', can be found in data dictionary.</td></tr> <tr><td>param</td> <td><code>json String</code>(<em>Query</em>)</td> <td>Additional parameters for special actions.</td></tr></tbody></table> <h4 id="result"><a href="#result" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return an empty SqlEntity.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word  'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>An empty SqlEntity</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_id=1)</td> <td>Multiple errors with JSON array format</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="read-entity"><a href="#read-entity" class="header-anchor">#</a> Read Entity</h3> <p>Get an existing SQLEntity of a specific module.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/entity/read/employee?menuCode=employee&amp;id=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-2"><a href="#http-request-2" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/entity/read/[module]?menuCode=[menuCode]&amp;id=[id]</code></p> <h4 id="parameters-2"><a href="#parameters-2" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>module</td> <td><code>String</code>(<em>Path</em>)</td> <td>**Required. **Module type, such as 'employee', can be found in data dictionary</td></tr> <tr><td>menuCode</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Menu code, such as 'employee', can be found in data dictionary</td></tr> <tr><td>id</td> <td><code>long</code>(<em>Query</em>)</td> <td><strong>Required</strong>. ID of the entity.</td></tr> <tr><td>param</td> <td><code>json String</code>(<em>Query</em>)</td> <td>Additional parameters for special actions</td></tr> <tr><td>iRev</td> <td><code>int</code>(<em>Query</em>)</td> <td>If you want to read the old version of the entity, please set this value. If you want to read a delete entity, please set the <code>id</code> and <code>iRev</code> of the delete entity.</td></tr></tbody></table> <h4 id="result-2"><a href="#result-2" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a correct SqlEntity of this module.
If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A correct SqlEntity</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_id=1)</td> <td>Multiple errors with JSON array format</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="save-entity"><a href="#save-entity" class="header-anchor">#</a> Save Entity</h3> <p>Save a SqlEntity to a specific module.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">MediaType</span> jsonMT <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;application/json; charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">RequestBody</span> rb <span class="token operator">=</span> <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>jsonMT<span class="token punctuation">,</span> 
                 <span class="token string">&quot;[Simplified Entity JSON]&quot;</span> or <span class="token string">&quot;array of [Simplified Entity JSON]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/entity/s/save/employee?menuCode=employee&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>formBody<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-3"><a href="#http-request-3" class="header-anchor">#</a> HTTP Request</h4> <p><code>PUT http://[server]/jsf/rfws/entity/s/save/[module]?menuCode=[menuCode]</code></p> <h4 id="parameters-3"><a href="#parameters-3" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>module</td> <td><code>String</code>(<em>Path</em>)</td> <td>**Required. **Module type,such as 'employee', can be found in data dictionary.</td></tr> <tr><td>menuCode</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Menu code, such as 'employee', can be found in data dictionary.</td></tr> <tr><td>param</td> <td><code>jsonString</code>(<em>Query</em>)</td> <td>Additional parameters for special actions.</td></tr> <tr><td>entity</td> <td><code>jsonString</code>(<em>Query</em>)</td> <td>The Simplified Entity JSON, structure please refer to the below. Notice that the JSON need to be <u>URL Encoded</u>.</td></tr> <tr><td>entitys_in_entity</td> <td><code>String</code>(Body)</td> <td>The Simplified Entity JSON, structure please refer to the below. It is recommended to pass entity JSON in request body.If you want to handle more entitys, please pass an array of Simplified Entity JSON.</td></tr></tbody></table> <h4 id="simplified-entity-json"><a href="#simplified-entity-json" class="header-anchor">#</a> Simplified Entity JSON</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;employeepic&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;employee_attach&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;employee&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000171&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;abcd&quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>The JSON contains objects of different tables in a module, each table contains a &quot;values&quot; JSON array to specify the value of each field in the table.</li> <li>The main table of a module is compulsory. For which table is main users can refer to data dictionary.</li> <li>If a table or the value for a field are not provided, they will not be saved.</li></ul> <h4 id="result-3"><a href="#result-3" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a correct id of this SqlEntity.
If  API run failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>ID of the saved SqlEntity</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_id=1)</td> <td>Multiple errors with JSON array format</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="delete-entity"><a href="#delete-entity" class="header-anchor">#</a> Delete Entity</h3> <p>Delete a SqlEntity from a specific module.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/entity/delete/employee?menuCode=employee&amp;id=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-4"><a href="#http-request-4" class="header-anchor">#</a> HTTP Request</h4> <p><code>DELETE http://[server]/jsf/rfws/entity/delete/[module]?menuCode=[menuCode]&amp;id=[id]</code></p> <h4 id="parameters-4"><a href="#parameters-4" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>module</td> <td><code>String</code>(<em>Path</em>)</td> <td>**Required. **Module type,such as 'employee', can be found in data dictionary</td></tr> <tr><td>menuCode</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Menu code, such as 'employee', can be found in data dictionary</td></tr> <tr><td>id</td> <td><code>long</code>(<em>Query</em>)</td> <td><strong>Required</strong>. ID of the entity</td></tr> <tr><td>param</td> <td><code>json String</code>(<em>Query</em>)</td> <td>Additional parameters for special actions</td></tr></tbody></table> <h4 id="result-4"><a href="#result-4" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Status</em></td> <td>Status is 200</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_id=1)</td> <td>Multiple errors with JSON array format</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h2 id="get-id-by-code-web-service"><a href="#get-id-by-code-web-service" class="header-anchor">#</a> Get ID by Code Web Service</h2> <p>Get entity ID using record's code in a module.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/entity/getIdByCode/employee?menuCode=employee&amp;code=001&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-5"><a href="#http-request-5" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/entity/getIdByCode/[module]?menuCode=[menuCode]&amp;code=[record code]</code></p> <h4 id="parameters-5"><a href="#parameters-5" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>module</td> <td><code>String</code>(<em>Path</em>)</td> <td><strong>Required.</strong> Module type, such as 'employee', can be found in Data Dictionary.</td></tr> <tr><td>menuCode</td> <td><code>String</code>(<em>Query</em>)</td> <td>Menu code of the editor, can be found in Data Dictionary.</td></tr> <tr><td>code</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required</strong>. The code of the record.</td></tr> <tr><td>beId</td> <td><code>int</code>(<em>Query</em>)</td> <td>If the module is BE specific, need to provide the beID. BE means Business Entity in M18, which is a [Department] record with BE check box ticked.</td></tr></tbody></table> <h4 id="result-5"><a href="#result-5" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a JSON object. The JSON object includes id, withRight and withMulti. The type of id is long. The type of withRight and withMulti is boolean. When withRight is true, it means the current user can visit this record. When withMulti is true, it means two or more records are using this code.</p> <p>If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A JSON object includes the ID, withRight and withMulti.</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_id=1)</td> <td>Multiple errors with JSON array format</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h2 id="data-search-web-service"><a href="#data-search-web-service" class="header-anchor">#</a> Data Search Web Service</h2> <p>Search data in M18 using lookup type.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/search/search?stSearch=employee&amp;startRow=1&amp;endRow=10&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-6"><a href="#http-request-6" class="header-anchor">#</a> <strong>HTTP Request</strong></h4> <p><code>GET http://[server]/jsf/rfws/search/search?stSearch=[stSearchName]&amp;startRow=[startRow]&amp;endRow=[endRow]</code></p> <h4 id="parameters-6"><a href="#parameters-6" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via OAuth</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Client ID in M18 [OAuth Applications]</td></tr> <tr><td>stSearch</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong>  Lookup type, such as 'employee', can be found in Data Dictionary or UDF Lookup.</td></tr> <tr><td>startRow</td> <td><code>int</code>(<em>Query</em>)</td> <td>The start row of the search</td></tr> <tr><td>endRow</td> <td><code>int</code>(<em>Query</em>)</td> <td>The end row of the search</td></tr> <tr><td>beId</td> <td><code>long</code>(<em>Query</em>)</td> <td>If the search is BE specific, beId need to input</td></tr> <tr><td>formatId</td> <td><code>long</code>(Query)</td> <td>Search format ID</td></tr> <tr><td>conds</td> <td><code>String</code>(Query)</td> <td>Please check <strong>Condition Detail</strong></td></tr> <tr><td>sorts</td> <td><code>String</code>(Query)</td> <td>Sort Fields ,split by &quot;;&quot;. If not ascending, please use &quot;!&quot;;  Example:&quot;code;!desc&quot;</td></tr> <tr><td>resultFields</td> <td><code>String</code>(Query)</td> <td>If you want to return some fields value, please this parameter.</td></tr> <tr><td>lookupField</td> <td><code>boolean</code>(Query)</td> <td>If the value is true, then the result data will be no expired,no locked, and approved.</td></tr> <tr><td>quickSearchStr</td> <td><code>String</code>(Query)</td> <td>If you want to use quick search ,please set this value.</td></tr> <tr><td>fieldDesc</td> <td><code>boolean</code>(Query)</td> <td>If the value is true, the will return the field's name and mess value.</td></tr> <tr><td>viewDeleted</td> <td><code>boolean</code>(Query)</td> <td>If you want to search the data already be deleted, Please use this value true.</td></tr></tbody></table> <h4 id="condition-detail"><a href="#condition-detail" class="header-anchor">#</a> Condition Detail</h4> <p><strong>Conds Format:</strong></p> <p>Id=lessThan=5=and=id=largerOrEqual=3=or=(name=contains =ss=or=name=contains=bb)</p> <p><strong>Which means:</strong></p> <p>Id&lt;5 and id &gt;=3 or (name like ‘%ss%’ or name like ‘%bb%’)</p> <p>**Please use these formats to write the conds: **</p> <p>(&quot;equal&quot;, &quot;=&quot;),</p> <p>(&quot;unequal&quot;, &quot;&lt;&gt;&quot;),</p> <p>(&quot;largerThan&quot;, &quot;&gt;&quot;),</p> <p>(&quot;lessThan&quot;, &quot;&lt;&quot;),</p> <p>(&quot;largerOrEqual&quot;, &quot;&gt;=&quot;),</p> <p>(&quot;lessOrEqual&quot;, &quot;&lt;=&quot;),</p> <p>(&quot;contains&quot;, &quot;like&quot;),</p> <p>(&quot;doseNotContain&quot;, &quot;notlike&quot;),</p> <p>(&quot;in&quot;, &quot;in&quot;),</p> <p>(&quot;notIn&quot;, &quot;notin&quot;),</p> <p>(&quot;startWith&quot;, &quot;like&quot;),</p> <p>(&quot;endWith&quot;, &quot;like&quot;);</p> <h4 id="result-6"><a href="#result-6" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a SqlTable .
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A SqlTable</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h2 id="attachment-web-services"><a href="#attachment-web-services" class="header-anchor">#</a> Attachment Web Services</h2> <h3 id="get-attachment-list"><a href="#get-attachment-list" class="header-anchor">#</a> Get Attachment List</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/attach/getAttach?module=dept&amp;stSearch=dept&amp;code=ADMIN&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-7"><a href="#http-request-7" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://127.0.0.1:8080/jsf/rfws/attach/getAttach?module=[module Name]&amp;stSearch=[stSearch code]&amp;code=[recod's code]</code></p> <h4 id="parameters-7"><a href="#parameters-7" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>module</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> TargetFM/transaction record’s module code</td></tr> <tr><td>code</td> <td><code>string</code>(<em>Query</em>)</td> <td>**Required.**TargetFM/transaction record’s code</td></tr> <tr><td>stSearch</td> <td><code>string</code>(<em>Query</em>)</td> <td>default= module, StSearchinfo, for system usage</td></tr> <tr><td>beId</td> <td><code>long</code>(<em>Query</em>)</td> <td>If the module is BE specific, need to provide the beID. BE means Business Entity in M18, which is a [Department] record with BE check box ticked.</td></tr></tbody></table> <h4 id="result-7"><a href="#result-7" class="header-anchor">#</a> Result</h4> <table><thead><tr><th>Type</th> <th>Location(error_id)</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A json array</td></tr></tbody></table> <blockquote><p>json array example</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span><span class="token property">&quot;needPassword&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;M18_GZWZ2017050801-FIXED.docx&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;fileSize&quot;</span><span class="token operator">:</span><span class="token number">823092.0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;author&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createUser&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;remark&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">9</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
	<span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;M18_GZWZ2017050801-FIXED&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017/07/04 10:52:25&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;tags&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token punctuation">{</span><span class="token property">&quot;needPassword&quot;</span><span class="token operator">:</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;M18_GZWZ2017051801.docx&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;fileSize&quot;</span><span class="token operator">:</span><span class="token number">108683.0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;author&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createUser&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;remark&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createUid&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
	<span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;M18_GZWZ2017051801&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span><span class="token string">&quot;2017/07/04 10:52:25&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;tags&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre></div><br> <table><thead><tr><th><strong>Parameter Name</strong></th> <th><strong>Meaning</strong></th></tr></thead> <tbody><tr><td><strong>id</strong></td> <td>ID of the attachment</td></tr> <tr><td><strong>code</strong></td> <td>Code of the attachment</td></tr> <tr><td><strong>desc</strong></td> <td>Title of the attachment</td></tr> <tr><td><strong>fileSize</strong></td> <td>File size of the attachment</td></tr> <tr><td><strong>author</strong></td> <td>Author of the attachment</td></tr> <tr><td><strong>tags</strong></td> <td>Tags of the attachment</td></tr> <tr><td><strong>remark</strong></td> <td>Remark of the attachment</td></tr> <tr><td><strong>createUser</strong></td> <td>Create User’s username of the attachment</td></tr> <tr><td><strong>createUid</strong></td> <td>Create User’s ID of the attachment</td></tr> <tr><td><strong>createDate</strong></td> <td>Date of create of the attachment</td></tr> <tr><td><strong>needPassword</strong></td> <td>Whether the file is encrypted with  password or not. *</td></tr></tbody></table> <h3 id="get-attachment-file"><a href="#get-attachment-file" class="header-anchor">#</a> Get Attachment File</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/attach/getFile?module=dept&amp;stSearch=dept&amp;code=ADMIN&amp;id=10&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-8"><a href="#http-request-8" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://127.0.0.1:8080/jsf/rfws/attach/getFile?module=[module Name]&amp;stSearch=[stSearch code]&amp;code=[recod's code]&amp;id=[Attachment ID]</code></p> <h4 id="parameters-8"><a href="#parameters-8" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>module</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> TargetFM/ transaction record’s module code</td></tr> <tr><td>stSearch</td> <td><code>string</code>(<em>Query</em>)</td> <td>default= module, StSearchinfo, for system usage</td></tr> <tr><td>code</td> <td><code>string</code>(<em>Query</em>)</td> <td>TargetFM/ transaction record’s code</td></tr> <tr><td>Id</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Attachment ID</td></tr> <tr><td>password</td> <td><code>string</code>(<em>Query</em>)</td> <td>Required when the file is encrypted  with password. Password of the attachment. This password needs to be encrypted.</td></tr></tbody></table> <h4 id="result-8"><a href="#result-8" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a file.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A file</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="upload-attachment-file"><a href="#upload-attachment-file" class="header-anchor">#</a> Upload Attachment File</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\script.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MediaType</span> mt <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;application/octet-stream&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">RequestBody</span> rb <span class="token operator">=</span> <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>mt<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/attach/upload?module=dept&amp;stSearch=dept&amp;code=ADMIN&amp;fileName=script.text&amp;title=attachment&amp;author=aa&amp;tags=program;M18;script&amp;remark=aabbcc&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>rb<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-9"><a href="#http-request-9" class="header-anchor">#</a> HTTP Request</h4> <p><code>POST http://127.0.0.1:8080/jsf/rfws/attach/upload?module=[module Name]&amp;stSearch=[stSearch code]&amp;code=[recod's code]&amp;fileName=[Attachment’s filename]&amp;title=[file name]&amp;author=[user name]&amp;tags=[tags]&amp;remark=[remark]</code></p> <h4 id="parameters-9"><a href="#parameters-9" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>module</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> TargetFM/ transaction record’s module code</td></tr> <tr><td>stSearch</td> <td><code>string</code>(<em>Query</em>)</td> <td>default = module, StSearchinfo, for system usage</td></tr> <tr><td>code</td> <td><code>string</code>(<em>Query</em>)</td> <td>TargetFM/transaction record’s code</td></tr> <tr><td>fileName</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Attachment’sfilename</td></tr> <tr><td>title</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Filename (will be used as attachment code as in current system logic)</td></tr> <tr><td>author</td> <td><code>string</code>(<em>Query</em>)</td> <td>default = current user’s username. Author of the attachment</td></tr> <tr><td>tags</td> <td><code>string</code>(<em>Query</em>)</td> <td>Tags of the attachment</td></tr> <tr><td>remark</td> <td><code>string</code>(<em>Query</em>)</td> <td>Remark of the attachment</td></tr> <tr><td>overwrite</td> <td><code>boolean</code>(<em>Query</em>)</td> <td>Whether replace the first attachment of the same file name in the record. If set to true, it will search the current attachment list, and replace the first matched attachment with the same attachment code. If set to false, it will always append to the attachment list</td></tr> <tr><td>password</td> <td><code>string</code>(<em>Query</em>)</td> <td>Password is needed to encrypt or not. *</td></tr> <tr><td>beId</td> <td><code>long</code>(<em>Query</em>)</td> <td>If the module is BE specific, need to provide the beID. BE means Business Entity in M18, which is a [Department] record with BE check box ticked.</td></tr></tbody></table> <h4 id="result-9"><a href="#result-9" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>status 200</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg</td></tr></tbody></table> <h3 id="method-to-transfer-file-password"><a href="#method-to-transfer-file-password" class="header-anchor">#</a> Method to Transfer File Password</h3> <p>Note that the attachment module supports password encryption to the file. If a user would like to pass the password to encrypt or decrypt the file, the user needs to first encrypt the password for security purpose. Our system uses AES mode to encrypt the password for web service transmission.</p> <p><strong>Here are the example codes:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Key</span> aesKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span><span class="token string">&quot;Mac02017Dms02017&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;AES&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encryptDmsTransferPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token class-name">Cipher</span> cipher <span class="token operator">=</span> <span class="token class-name">Cipher</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;AES/ECB/PKCS5Padding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// encrypt the text</span>
			cipher<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">Cipher</span><span class="token punctuation">.</span>ENCRYPT_MODE<span class="token punctuation">,</span> aesKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encrypted <span class="token operator">=</span> cipher<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>password<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token class-name">DatatypeConverter</span><span class="token punctuation">.</span><span class="token function">printHexBinary</span><span class="token punctuation">(</span>encrypted<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><h2 id="alert-web-services"><a href="#alert-web-services" class="header-anchor">#</a> Alert Web Services</h2> <h3 id="get-alert-list"><a href="#get-alert-list" class="header-anchor">#</a> Get Alert List</h3> <p>Get system alert list.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/sysAlert/getList?rowLimit=10&amp;page=1&amp;readMode=2&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-10"><a href="#http-request-10" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/sysAlert/getList?rowLimit=[no. of row]&amp;page=[pagination]&amp;readMode=[readMode]</code></p> <h4 id="parameters-10"><a href="#parameters-10" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>rowLimit</td> <td><code>int</code>(<em>Query</em>)</td> <td>No. of row, default = 5</td></tr> <tr><td>page</td> <td><code>int</code>(<em>Query</em>)</td> <td>Pagination of the alert list, default = 1</td></tr> <tr><td>readMode</td> <td><code>int</code>(<em>Query</em>)</td> <td>readMode 0 = all, 1 = read, 2 = unread</td></tr> <tr><td>count</td> <td><code>boolean</code>(<em>Query</em>)</td> <td>if count is true, then it will return the count of alert</td></tr></tbody></table> <h3 id="get-alert-list-by-user-id"><a href="#get-alert-list-by-user-id" class="header-anchor">#</a> Get Alert List by User ID</h3> <p>Get system alert list by user ID.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/sysAlert/getAlertList?uid=1&amp;rowLimit=10&amp;page=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-11"><a href="#http-request-11" class="header-anchor">#</a> HTTP Request</h4> <p><code>POST http://[server]/jsf/rfws/sysAlert/getAlertList?uid=[uid]&amp;rowLimit=[no. of row]&amp;page=[pagination]&amp;readMode=[readMode]</code></p> <h4 id="parameters-11"><a href="#parameters-11" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>uid</td> <td><code>long</code>(<em>Query</em>)</td> <td>**Required. **User ID</td></tr> <tr><td>rowLimit</td> <td><code>int</code>(<em>Query</em>)</td> <td>No. of row, default = 5</td></tr> <tr><td>page</td> <td><code>int</code>(<em>Query</em>)</td> <td>Pagination of the alert list, default = 1</td></tr> <tr><td>readMode</td> <td><code>int</code>(<em>Query</em>)</td> <td>readMode 0 = all, 1 = read, 2 = unread</td></tr> <tr><td>count</td> <td><code>boolean</code>(<em>Query</em>)</td> <td>if count is true, then it will return the count of alert</td></tr></tbody></table> <h4 id="result-10"><a href="#result-10" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, it will return a SqlTable. If count is true, then will return the count of alert.</p></blockquote> <table><thead><tr><th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><em>Body</em></td> <td>A sqlTable  json string</td></tr> <tr><td><em>Header</em></td> <td>If count is true, then will return the count of  alert.</td></tr></tbody></table> <h3 id="get-alert"><a href="#get-alert" class="header-anchor">#</a> Get Alert</h3> <p>Get system alert.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/sysAlert/get?alertId=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-12"><a href="#http-request-12" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/sysAlert/getList?alertId=[id of alert record]</code></p> <h4 id="parameters-12"><a href="#parameters-12" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>alertId</td> <td><code>long</code>(<em>Path</em>)</td> <td><strong>Required.</strong> id of alert record</td></tr></tbody></table> <h4 id="result-11"><a href="#result-11" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, it will return a SqlTable.</p></blockquote> <table><thead><tr><th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><em>Body</em></td> <td>A SqlTable JSON string</td></tr></tbody></table> <h2 id="announcement-web-services"><a href="#announcement-web-services" class="header-anchor">#</a> Announcement Web Services</h2> <h3 id="get-announcement-list"><a href="#get-announcement-list" class="header-anchor">#</a> Get Announcement List</h3> <p>Get system announcement list.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/ancm/getAncmList?page=1&amp;pageSize=50&amp;orderField=ancmDate&amp;orderAsc=DESC&amp;readMode=0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-13"><a href="#http-request-13" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/ancm/getAncmList?page=[pagination]&amp;pageSize=[pageSize]&amp;orderField=[order field]&amp;orderAsc=[order type]&amp;readMode=[read mode]</code></p> <h4 id="parameters-13"><a href="#parameters-13" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>pageSize</td> <td><code>int</code>(<em>Path</em>)</td> <td><strong>Required.</strong> Page size</td></tr> <tr><td>page</td> <td><code>int</code>(<em>Query</em>)</td> <td>**Required. **Pagination of the announcement list</td></tr> <tr><td>readMode</td> <td><code>int</code>(<em>Query</em>)</td> <td>ReadMode 0 = all, 1 = read, 2 = unread</td></tr> <tr><td>orderField</td> <td><code>string</code>(<em>Query</em>)</td> <td>Which field use to sort.</td></tr> <tr><td>orderAsc</td> <td><code>String</code>(Query)</td> <td>Sort type, the value can be ASC or DESC. DESC is default.</td></tr> <tr><td>excludeIds</td> <td><code>String</code>(Query)</td> <td>Exclude some announcements using this value. It can be one id, or more ids. If two or more ids, id must separate with <code>,</code></td></tr> <tr><td>getCount</td> <td><code>boolean</code>(Query)</td> <td>If getCount is true ,then it will return the count of announcement</td></tr> <tr><td>quickSearch</td> <td><code>String</code>(Query)</td> <td>if this value is not empty, it can used to search the title, public date and importance</td></tr></tbody></table> <h4 id="result-12"><a href="#result-12" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, it will return a SqlTable. If getCount is true, then it will return the count of the announcement list. If getCount is false, then it will return the information of  the announcement list.</p></blockquote> <table><thead><tr><th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><em>Body</em></td> <td>A SqlTable JSON string</td></tr></tbody></table> <h3 id="get-announcement"><a href="#get-announcement" class="header-anchor">#</a> Get Announcement</h3> <p>Get system announcement.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/ancm/read?ancmId=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-14"><a href="#http-request-14" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/ancm/read?ancmId=[id of announcementrecord]</code></p> <h4 id="parameters-14"><a href="#parameters-14" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>ancmId</td> <td><code>long</code>(<em>Path</em>)</td> <td><strong>Required.</strong> id of announcement record</td></tr></tbody></table> <h4 id="result-13"><a href="#result-13" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a SqlEntity.
If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A SqlEntity JSON string</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="telescope-get-related-records"><a href="#telescope-get-related-records" class="header-anchor">#</a> Telescope - Get Related Records</h3> <p>Given a record, return all other records associated with this record.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/telescope/getRelatedRecord/user/2&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-15"><a href="#http-request-15" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/telescope/getRelatedRecord/{lookupType}/{recordId}</code></p> <h4 id="parameters-15"><a href="#parameters-15" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>lookupType</td> <td><code>String</code>(<em>Path</em>)</td> <td><strong>Required.</strong> Search Type</td></tr> <tr><td>recordId</td> <td><code>long</code>(<em>Path</em>)</td> <td><strong>Required.</strong> id of source record</td></tr></tbody></table> <h4 id="result-14"><a href="#result-14" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a JSON.
If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON from the response header with key word 'error_info'.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token number">114</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1553229061000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dept&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;moduleDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Department&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">182</span><span class="token punctuation">,</span>
            <span class="token number">120</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token number">1555925150000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;employee&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;moduleDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Employee&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A SqlEntity JSON string</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h3 id="telescope-get-result-by-voice-command"><a href="#telescope-get-result-by-voice-command" class="header-anchor">#</a> Telescope - Get Result by Voice command</h3> <p>Telescope NPL trigger, return matched telescope results according to Mobile App Setup.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/telescope/telescopeNlp?tags=staff&amp;tags=Jacky&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer MjZhZGNjMDctODVhZS00MmE0LWI3ZmEtNzRhMTQwZGZiNTY0&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-16"><a href="#http-request-16" class="header-anchor">#</a> HTTP Request</h4> <p><code>GET http://[server]/jsf/rfws/telescope/telescopeNlp?tags={keyword}</code></p> <h4 id="parameters-16"><a href="#parameters-16" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>String</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>tags</td> <td><code>String</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Search Keyword</td></tr></tbody></table> <h4 id="result-15"><a href="#result-15" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a JSON.
If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON from the response header with key word 'error_info'.</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;stSearch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;employee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;formatFieldDesc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Name(Current Language)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Inner Version&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Last Modified Time&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;employee.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Last Modified By(Current Language)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stSearchDisplay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Employee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Havid0012&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Raindrop_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-04-22 17:27:57&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;employee.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Raindrop_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">382</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Raindrop_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Raindrop_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">382</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Havid0012&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Havid0018&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-04-22 17:27:57&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;employee.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Raindrop_en&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">398</span><span class="token punctuation">,</span>
            <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token number">398</span><span class="token punctuation">,</span>
            <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Havid0018&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fieldDesc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Code&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;st_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;st_id&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;st_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;st_code&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Name(Current Language)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;st_desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;st_desc&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;employee.lastModifyUid.simpleUser.desc__lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Name(Current Language)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;iRev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Inner Version&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Key ID&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastModifyDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Last Modified Time&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Name&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A SqlEntity JSON string</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table> <h2 id="document-printing-web-services"><a href="#document-printing-web-services" class="header-anchor">#</a> Document Printing Web Services</h2> <h3 id="fetch-pdf-file"><a href="#fetch-pdf-file" class="header-anchor">#</a> Fetch PDF File</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/jrPrint/fetchPdf?menuCode=employee&amp;recId=1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="http-request-17"><a href="#http-request-17" class="header-anchor">#</a> HTTP Request</h4> <p><code>POST http://127.0.0.1:8080/jsf/rfws/jrPrint/fetchPdf?menuCode=[Menu code]&amp;recId=[Record Id]</code></p> <h4 id="parameters-17"><a href="#parameters-17" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>menuCode</td> <td><code>string</code>(<em>Query</em>)</td> <td><strong>Required.</strong> Menu code, such as 'employee', can be found in data dictionary.</td></tr> <tr><td>recId</td> <td><code>long</code>(<em>Query</em>)</td> <td><strong>Required.</strong> ID of the entity.</td></tr> <tr><td>printOptionId</td> <td><code>long</code>(<em>Query</em>)</td> <td>ID of Print Options.</td></tr></tbody></table> <h4 id="result-16"><a href="#result-16" class="header-anchor">#</a> Result</h4> <blockquote><p>If API runs success, status of the response will be 200, then it will return a file.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A file</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg JSON array</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/api/m18/m18wsjson.html" class="prev">
        Common JSON Objects
      </a></span> <span class="next"><a href="/en/api/m18/m18bpmws.html">
        Business Process Management (BPM)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8e064e26.js" defer></script><script src="/assets/js/2.2e75dd35.js" defer></script><script src="/assets/js/76.c8490eca.js" defer></script>
  </body>
</html>
