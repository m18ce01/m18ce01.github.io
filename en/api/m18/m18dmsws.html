<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Document Management System (DMS) | M18 Developer Center</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Make Something People Want">
    
    <link rel="preload" href="/assets/css/0.styles.33af981d.css" as="style"><link rel="preload" href="/assets/js/app.668035c5.js" as="script"><link rel="preload" href="/assets/js/2.092ac75b.js" as="script"><link rel="preload" href="/assets/js/65.97cabe9e.js" as="script"><link rel="prefetch" href="/assets/js/10.21c7052c.js"><link rel="prefetch" href="/assets/js/100.ccfc9823.js"><link rel="prefetch" href="/assets/js/101.8ac7a0b2.js"><link rel="prefetch" href="/assets/js/102.dd83d08c.js"><link rel="prefetch" href="/assets/js/11.44dbfefd.js"><link rel="prefetch" href="/assets/js/12.2e527e49.js"><link rel="prefetch" href="/assets/js/13.da03c373.js"><link rel="prefetch" href="/assets/js/14.56ccdf8f.js"><link rel="prefetch" href="/assets/js/15.f61c5c1d.js"><link rel="prefetch" href="/assets/js/16.8702b2c6.js"><link rel="prefetch" href="/assets/js/17.ffa68fca.js"><link rel="prefetch" href="/assets/js/18.211b327c.js"><link rel="prefetch" href="/assets/js/19.aef60855.js"><link rel="prefetch" href="/assets/js/20.d1564be8.js"><link rel="prefetch" href="/assets/js/21.fbbaf41b.js"><link rel="prefetch" href="/assets/js/22.55ba2e4a.js"><link rel="prefetch" href="/assets/js/23.b4996668.js"><link rel="prefetch" href="/assets/js/24.d9685dfd.js"><link rel="prefetch" href="/assets/js/25.ceadd1fe.js"><link rel="prefetch" href="/assets/js/26.6030724b.js"><link rel="prefetch" href="/assets/js/27.5db4cbbb.js"><link rel="prefetch" href="/assets/js/28.b54325b2.js"><link rel="prefetch" href="/assets/js/29.fcccc37e.js"><link rel="prefetch" href="/assets/js/3.03400ded.js"><link rel="prefetch" href="/assets/js/30.d1ab8ca4.js"><link rel="prefetch" href="/assets/js/31.4fd3bcb1.js"><link rel="prefetch" href="/assets/js/32.bdbd885e.js"><link rel="prefetch" href="/assets/js/33.ac815ab7.js"><link rel="prefetch" href="/assets/js/34.27466e68.js"><link rel="prefetch" href="/assets/js/35.316ffbaf.js"><link rel="prefetch" href="/assets/js/36.2afd14f5.js"><link rel="prefetch" href="/assets/js/37.779f2cf6.js"><link rel="prefetch" href="/assets/js/38.c164b152.js"><link rel="prefetch" href="/assets/js/39.690f709d.js"><link rel="prefetch" href="/assets/js/4.7cf5b7a9.js"><link rel="prefetch" href="/assets/js/40.f5cba8a5.js"><link rel="prefetch" href="/assets/js/41.a6e0c472.js"><link rel="prefetch" href="/assets/js/42.bdfc5336.js"><link rel="prefetch" href="/assets/js/43.1827dab2.js"><link rel="prefetch" href="/assets/js/44.b2863938.js"><link rel="prefetch" href="/assets/js/45.1763243d.js"><link rel="prefetch" href="/assets/js/46.43a466bc.js"><link rel="prefetch" href="/assets/js/47.11f19bdc.js"><link rel="prefetch" href="/assets/js/48.6c846c42.js"><link rel="prefetch" href="/assets/js/49.b83980b5.js"><link rel="prefetch" href="/assets/js/5.de8fa893.js"><link rel="prefetch" href="/assets/js/50.047f7d91.js"><link rel="prefetch" href="/assets/js/51.a999226b.js"><link rel="prefetch" href="/assets/js/52.8780ff45.js"><link rel="prefetch" href="/assets/js/53.dc62231c.js"><link rel="prefetch" href="/assets/js/54.8d91085e.js"><link rel="prefetch" href="/assets/js/55.4bf08c3f.js"><link rel="prefetch" href="/assets/js/56.ef0a4ef9.js"><link rel="prefetch" href="/assets/js/57.072c30c5.js"><link rel="prefetch" href="/assets/js/58.9d2f42f3.js"><link rel="prefetch" href="/assets/js/59.aa8fa2fd.js"><link rel="prefetch" href="/assets/js/6.93847242.js"><link rel="prefetch" href="/assets/js/60.76e6d965.js"><link rel="prefetch" href="/assets/js/61.0a988da3.js"><link rel="prefetch" href="/assets/js/62.9262eda5.js"><link rel="prefetch" href="/assets/js/63.bcd3f830.js"><link rel="prefetch" href="/assets/js/64.43695531.js"><link rel="prefetch" href="/assets/js/66.1557079a.js"><link rel="prefetch" href="/assets/js/67.99e96622.js"><link rel="prefetch" href="/assets/js/68.ff8e2b1d.js"><link rel="prefetch" href="/assets/js/69.de4ace90.js"><link rel="prefetch" href="/assets/js/7.2b721c94.js"><link rel="prefetch" href="/assets/js/70.958bde46.js"><link rel="prefetch" href="/assets/js/71.94a63cb9.js"><link rel="prefetch" href="/assets/js/72.0cddd527.js"><link rel="prefetch" href="/assets/js/73.48e72524.js"><link rel="prefetch" href="/assets/js/74.30ce64c4.js"><link rel="prefetch" href="/assets/js/75.e10a062c.js"><link rel="prefetch" href="/assets/js/76.7cde4893.js"><link rel="prefetch" href="/assets/js/77.ec9582d7.js"><link rel="prefetch" href="/assets/js/78.b941b9c0.js"><link rel="prefetch" href="/assets/js/79.3af8fb02.js"><link rel="prefetch" href="/assets/js/8.4432649f.js"><link rel="prefetch" href="/assets/js/80.6b54d5f9.js"><link rel="prefetch" href="/assets/js/81.31f294ce.js"><link rel="prefetch" href="/assets/js/82.69aeabda.js"><link rel="prefetch" href="/assets/js/83.fc3ac7ff.js"><link rel="prefetch" href="/assets/js/84.5fea396a.js"><link rel="prefetch" href="/assets/js/85.d6cf0ef6.js"><link rel="prefetch" href="/assets/js/86.7093d2d5.js"><link rel="prefetch" href="/assets/js/87.faf87256.js"><link rel="prefetch" href="/assets/js/88.a8000884.js"><link rel="prefetch" href="/assets/js/89.9d09d5bf.js"><link rel="prefetch" href="/assets/js/9.45196d7c.js"><link rel="prefetch" href="/assets/js/90.e3217e9a.js"><link rel="prefetch" href="/assets/js/91.c8ca21dd.js"><link rel="prefetch" href="/assets/js/92.b2603ce0.js"><link rel="prefetch" href="/assets/js/93.b469917e.js"><link rel="prefetch" href="/assets/js/94.1035cee8.js"><link rel="prefetch" href="/assets/js/95.42992de0.js"><link rel="prefetch" href="/assets/js/96.a329a39e.js"><link rel="prefetch" href="/assets/js/97.bff0bda7.js"><link rel="prefetch" href="/assets/js/98.0e4a13fc.js"><link rel="prefetch" href="/assets/js/99.b002c262.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33af981d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">M18 Developer Center</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link router-link-active">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WebServices" class="dropdown-title"><span class="title">WebServices</span> <span class="arrow down"></span></button> <button type="button" aria-label="WebServices" class="mobile-dropdown-title"><span class="title">WebServices</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/api/m18/" class="nav-link router-link-active">
  M18
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ce01/" class="nav-link">
  M18 ERP
</a></li><li class="dropdown-item"><!----> <a href="/en/api/ch01/" class="nav-link">
  M18 HCM
</a></li></ul></div></div><div class="nav-item"><a href="/en/m18/" class="nav-link">
  App
</a></div><div class="nav-item"><a href="/zh-CN/" class="nav-link">
  中文文档
</a></div><div class="nav-item"><a href="https://community.multiable.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>M18 WebServices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/api/m18/m18wsauth.html" class="sidebar-link">Authentication</a></li><li><a href="/en/api/m18/m18wsjson.html" class="sidebar-link">Common JSON Objects</a></li><li><a href="/en/api/m18/m18core_ws.html" class="sidebar-link">M18 Core Web Services</a></li><li><a href="/en/api/m18/m18bpmws.html" class="sidebar-link">Business Process Management (BPM)</a></li><li><a href="/en/api/m18/ebiwsform18app.html" class="sidebar-link">Enduser-driven Business Intelligence (EBI)</a></li><li><a href="/en/api/m18/m18scmws.html" class="sidebar-link">Schedule Management (SCM)</a></li><li><a href="/en/api/m18/m18dmsws.html" aria-current="page" class="active sidebar-link">Document Management System (DMS)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/m18/m18dmsws.html#search-dms-file" class="sidebar-link">Search DMS File</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18dmsws.html#download-dms-file" class="sidebar-link">Download DMS File</a></li><li class="sidebar-sub-header"><a href="/en/api/m18/m18dmsws.html#method-to-transfer-file-password" class="sidebar-link">Method to Transfer File Password</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="document-management-system-dms"><a href="#document-management-system-dms" class="header-anchor">#</a> Document Management System (DMS)</h1> <p><code>Version: 1.0 | Release Date: 30/6/2018</code></p> <h2 id="search-dms-file"><a href="#search-dms-file" class="header-anchor">#</a> Search DMS File</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8080/jsf/rfws/dms/searchFile?query=hk&amp;target=attr;tag;content&amp;limit=10&amp;offset=0&amp;sortField=title&amp;sortOrder=desc&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="http-request"><a href="#http-request" class="header-anchor">#</a> HTTP Request</h3> <p><code>GET http://127.0.0.1:8080/jsf/rfws/dms/searchFile?query=[Query String]&amp;target=[search target]&amp;limit=[limit size]&amp;offset=[]&amp;sortField=[The ordering field]&amp;sortOrder=[sort order]</code></p> <h3 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h3> <table><thead><tr><th><strong>Name</strong></th> <th><strong>Description</strong></th> <th><strong>Default</strong></th> <th><strong>Example</strong></th></tr></thead> <tbody><tr><td><strong>query</strong></td> <td>Query String (i.e. the string you  want to seach)</td> <td>N/A (cannot be empty)</td> <td>Hk</td></tr> <tr><td><strong>target</strong></td> <td>The parts you want to search, seaparted by colon <code>;</code>. Available Options: <ul><li>attr: File attributes include file title, author, tags.</li><li>tag: Header Tags and the file tags</li><li>content: The file content (the loading time might increase in such case)</li></ul></td> <td>N/A (cannot be empty)</td> <td>“attr;tag”</td></tr> <tr><td><strong>limit</strong></td> <td>The number of records to be  retrieved</td> <td>1000</td> <td>10</td></tr> <tr><td><strong>offset</strong></td> <td>The offset (note that this will not be effective if limit is not defined.)</td> <td>0</td> <td>20</td></tr> <tr><td><strong>sortField</strong></td> <td>The ordering field. Available options: title, lastModifyDate, createDate</td> <td>lastModifyDate</td> <td>title</td></tr> <tr><td><strong>sortOrder</strong></td> <td>The ordering order (note that this will not be effective if sortField is not defined.)  Available Options:   asc, desc</td> <td>desc</td> <td>asc</td></tr> <tr><td><strong>authorization</strong></td> <td><strong>Required.</strong> Access Token obtained via Oauth2 <code>string</code>(<em>Header</em>)</td> <td></td> <td></td></tr> <tr><td><strong>client_id</strong></td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18 <code>string</code>(<em>Header</em>)</td> <td></td> <td></td></tr></tbody></table> <h3 id="result"><a href="#result" class="header-anchor">#</a> Result</h3> <blockquote><p>If API runs success, status of the response will be 200.
If API runs failed, status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>A JSON array</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg</td></tr></tbody></table> <br> <p>Success Example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token property">&quot;lastModifyUser&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;extension&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;needPassword&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;lastModifyUid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;fileSize&quot;</span> <span class="token operator">:</span> <span class="token number">125312.0</span><span class="token punctuation">,</span>
     <span class="token property">&quot;createUser&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;35&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;title&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;untitled23452889&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;lastModifyDate&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2016-12-02 17:57:26&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span><span class="token property">&quot;lastModifyUser&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;test123&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;extension&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;doc&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;needPassword&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;lastModifyUid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;fileSize&quot;</span> <span class="token operator">:</span> <span class="token number">1755136.0</span><span class="token punctuation">,</span>
     <span class="token property">&quot;createUser&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;33&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;title&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;task121179_hkas_interfacex&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;lastModifyDate&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2017-03-10 17:57:26&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><br> <p>Output Parameter:</p> <table><thead><tr><th><strong>Parameter Name</strong></th> <th><strong>Meaning</strong></th></tr></thead> <tbody><tr><td><strong>id</strong></td> <td>ID of the file</td></tr> <tr><td><strong>title</strong></td> <td>Title of the file</td></tr> <tr><td><strong>extension</strong></td> <td>Extension of the file</td></tr> <tr><td><strong>fileSize</strong></td> <td>File size of the file</td></tr> <tr><td><strong>tags</strong></td> <td>Tags of the file</td></tr> <tr><td><strong>createUser</strong></td> <td>Create User’s username of the file</td></tr> <tr><td><strong>createUid</strong></td> <td>Create User’s ID of the file</td></tr> <tr><td><strong>createDate</strong></td> <td>Date of create of the file</td></tr> <tr><td><strong>lastModifyUser</strong></td> <td>Last Modify User’s username of the file</td></tr> <tr><td><strong>lastModifyUid</strong></td> <td>Last Modify User’s ID of the file</td></tr> <tr><td><strong>lastModifyDate</strong></td> <td>Date of last modify of the file</td></tr> <tr><td><strong>needPassword</strong></td> <td>Whether the file is encrypted with password or not. *</td></tr></tbody></table> <h2 id="download-dms-file"><a href="#download-dms-file" class="header-anchor">#</a> Download DMS File</h2> <div class="language- extra-class"><pre class="language-text"><code>OkHttpClient client = new OkHttpClient();

Request request = new Request.Builder()
  .url(&quot;http://127.0.0.1:8080/jsf/rfws/dms/getFile?id=10&quot;)
  .get()
  .addHeader(&quot;authorization&quot;, &quot;Bearer OGFiZmU2ZTktMzYzMS00NjIwLWJhNGYtYWU2OGQyNTZhMmNi&quot;)
  .addHeader(&quot;client_id&quot;, &quot;C-SGF2aWQncyBhcHBsaWNhdGlvbjIwMTctMDItMTAxNjc=&quot;)
  .addHeader(&quot;cache-control&quot;, &quot;no-cache&quot;)
  .build();

Response response = client.newCall(request).execute();
</code></pre></div><h3 id="http-request-2"><a href="#http-request-2" class="header-anchor">#</a> HTTP Request</h3> <p><code>GET http://127.0.0.1:8080/jsf/rfws/dms/getFile?id=[Attachment ID]</code></p> <h3 id="parameters-2"><a href="#parameters-2" class="header-anchor">#</a> Parameters</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>authorization</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> Access Token obtained via Oauth2</td></tr> <tr><td>client_id</td> <td><code>string</code>(<em>Header</em>)</td> <td><strong>Required.</strong> When registered in [OAuth Applications], generated by the M18</td></tr> <tr><td>id</td> <td><code>long</code>(<em>Query</em>)</td> <td>**Required.**AttachmentID</td></tr> <tr><td>password</td> <td><code>string</code>(<em>Query</em>)</td> <td>Requiredwhen the file is encrypted with password, Passwordof the attachment</td></tr></tbody></table> <h3 id="result-2"><a href="#result-2" class="header-anchor">#</a> Result</h3> <blockquote><p>If API runs success, status of the response will be 200.
If API runs failed , status of the response will be 400, then it will return the CheckMsg. You can get a CheckMsg JSON array from the response header with key word 'error_info'.</p></blockquote> <table><thead><tr><th>Type</th> <th>Location</th> <th>Description</th></tr></thead> <tbody><tr><td><code>success</code></td> <td><em>Body</em></td> <td>a file</td></tr> <tr><td><code>fail</code></td> <td><em>Header</em>(error_info)</td> <td>A CheckMsg</td></tr></tbody></table> <h2 id="method-to-transfer-file-password"><a href="#method-to-transfer-file-password" class="header-anchor">#</a> Method to Transfer File Password</h2> <p>Note that the attachment module supports password encryption to the file. If a user would like to pass the password to encrypt or decrypt the file, the user needs to first encrypt the password for security purpose. Our system uses AES mode to encrypt the password for web service transmission.</p> <p><strong>Here are the example codes:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Key</span> aesKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span><span class="token string">&quot;Mac02017Dms02017&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;AES&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encryptDmsTransferPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token class-name">Cipher</span> cipher <span class="token operator">=</span> <span class="token class-name">Cipher</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;AES/ECB/PKCS5Padding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// encrypt the text</span>
			cipher<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">Cipher</span><span class="token punctuation">.</span>ENCRYPT_MODE<span class="token punctuation">,</span> aesKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encrypted <span class="token operator">=</span> cipher<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>password<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token class-name">DatatypeConverter</span><span class="token punctuation">.</span><span class="token function">printHexBinary</span><span class="token punctuation">(</span>encrypted<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/api/m18/m18scmws.html" class="prev">
        Schedule Management (SCM)
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.668035c5.js" defer></script><script src="/assets/js/2.092ac75b.js" defer></script><script src="/assets/js/65.97cabe9e.js" defer></script>
  </body>
</html>
